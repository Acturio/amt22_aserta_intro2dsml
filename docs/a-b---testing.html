<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning</title>
  <meta name="description" content="Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning" />
  
  <meta name="twitter:description" content="Capítulo 14 A / B - testing | Ciencia de Datos y Machine Learning" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="interpretabilidad-local.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.1/str_view.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="img/aserta-logo.png" width="280"></a></li|
|:-:|  
<center>Ciencia de Datos y Machine Learning</center>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>BIENVENIDA</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivo"><i class="fa fa-check"></i>Objetivo</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#alcances-del-curso"><i class="fa fa-check"></i>Alcances del curso</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instructores"><i class="fa fa-check"></i>Instructores</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#módulo-1-introducción-a-r-22-hrs"><i class="fa fa-check"></i>Módulo 1: Introducción a R (22 hrs)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#módulo-2-introducción-a-ciencia-de-datos-18-hrs"><i class="fa fa-check"></i>Módulo 2: Introducción a Ciencia de Datos (18 hrs)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#módulo-3-machine-learning-supervisado-38-hrs"><i class="fa fa-check"></i>Módulo 3: Machine Learning: Supervisado (38 hrs)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#módulo-4-machine-learning-no-supervisado-12-hrs"><i class="fa fa-check"></i>Módulo 4: Machine Learning: No Supervisado (12 hrs)</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#requisitos"><i class="fa fa-check"></i>Requisitos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#duración-y-evaluación-del-curso"><i class="fa fa-check"></i>Duración y evaluación del curso</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#recursos-y-dinámica-de-clase"><i class="fa fa-check"></i>Recursos y dinámica de clase</a></li>
</ul></li>
<li class="part"><span><b>Parte 1: Introducción</b></span></li>
<li class="chapter" data-level="1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html"><i class="fa fa-check"></i><b>1</b> Conceptos de Ciencia de Datos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#qué-es-ciencia-de-datos"><i class="fa fa-check"></i><b>1.1</b> ¿Qué es Ciencia de Datos?</a>
<ul>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#definiendo-conceptos"><i class="fa fa-check"></i>Definiendo conceptos:</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#objetivos"><i class="fa fa-check"></i><b>1.2</b> Objetivos</a></li>
<li class="chapter" data-level="1.3" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#requisitos-1"><i class="fa fa-check"></i><b>1.3</b> Requisitos</a></li>
<li class="chapter" data-level="1.4" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aplicaciones"><i class="fa fa-check"></i><b>1.4</b> Aplicaciones</a></li>
<li class="chapter" data-level="1.5" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#tipos-de-algoritmos"><i class="fa fa-check"></i><b>1.5</b> Tipos de algoritmos</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-supervisado"><i class="fa fa-check"></i><b>1.5.1</b> Aprendizaje supervisado</a></li>
<li class="chapter" data-level="1.5.2" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-no-supervisado"><i class="fa fa-check"></i><b>1.5.2</b> Aprendizaje no supervisado</a></li>
<li class="chapter" data-level="1.5.3" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#aprendizaje-por-refuerzo"><i class="fa fa-check"></i><b>1.5.3</b> Aprendizaje por refuerzo</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#perfiles-de-un-equipo"><i class="fa fa-check"></i><b>1.6</b> Perfiles de un equipo</a>
<ul>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#ingeniero-de-datos"><i class="fa fa-check"></i>1) Ingeniero de datos</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#decisor"><i class="fa fa-check"></i>2) Decisor</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#analista"><i class="fa fa-check"></i>3) Analista</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#analista-experto"><i class="fa fa-check"></i>4) Analista experto</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#estadístico"><i class="fa fa-check"></i>5) Estadístico</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#ingeniero-de-machine-learning"><i class="fa fa-check"></i>6) Ingeniero de Machine Learning</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#científico-de-datos"><i class="fa fa-check"></i>7) Científico de Datos</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#gerente-de-análisis-líder-de-ciencia-de-datos"><i class="fa fa-check"></i>8) Gerente de Análisis / Líder de Ciencia de Datos</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#experto-cualitativo-científico-social"><i class="fa fa-check"></i>9) Experto Cualitativo / Científico Social</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#investigador"><i class="fa fa-check"></i>10) Investigador</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#extra-personal-adicional"><i class="fa fa-check"></i>Extra) Personal Adicional</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#google-data-career-path"><i class="fa fa-check"></i>Google Data Career Path</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#flujo-de-trabajo-en-ml"><i class="fa fa-check"></i><b>1.7</b> Flujo de trabajo en <em>ML</em></a></li>
<li class="chapter" data-level="1.8" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#ciclo-de-un-proyecto"><i class="fa fa-check"></i><b>1.8</b> Ciclo de un proyecto</a></li>
<li class="chapter" data-level="1.9" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#taller-de-scoping"><i class="fa fa-check"></i><b>1.9</b> Taller de Scoping</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#data-maturity-framework"><i class="fa fa-check"></i><b>1.9.1</b> Data Maturity Framework</a></li>
<li class="chapter" data-level="1.9.2" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#scoping"><i class="fa fa-check"></i><b>1.9.2</b> Scoping</a></li>
<li class="chapter" data-level="" data-path="conceptos-de-ciencia-de-datos.html"><a href="conceptos-de-ciencia-de-datos.html#ejemplos"><i class="fa fa-check"></i>Ejemplos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introducción-a-r.html"><a href="introducción-a-r.html"><i class="fa fa-check"></i><b>2</b> Introducción a R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introducción-a-r.html"><a href="introducción-a-r.html#cómo-obtener-r"><i class="fa fa-check"></i><b>2.1</b> ¿Cómo obtener <em>R</em>?</a></li>
<li class="chapter" data-level="2.2" data-path="introducción-a-r.html"><a href="introducción-a-r.html#qué-es-rstudio"><i class="fa fa-check"></i><b>2.2</b> ¿Qué es RStudio?</a></li>
<li class="chapter" data-level="2.3" data-path="introducción-a-r.html"><a href="introducción-a-r.html#r-como-lenguaje-orientado-a-objetos"><i class="fa fa-check"></i><b>2.3</b> <em>R</em> como lenguaje orientado a objetos</a></li>
<li class="chapter" data-level="2.4" data-path="introducción-a-r.html"><a href="introducción-a-r.html#estructuras-de-almacenamiento"><i class="fa fa-check"></i><b>2.4</b> Estructuras de almacenamiento</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introducción-a-r.html"><a href="introducción-a-r.html#operadores-de-asignación"><i class="fa fa-check"></i><b>2.4.1</b> Operadores de asignación</a></li>
<li class="chapter" data-level="2.4.2" data-path="introducción-a-r.html"><a href="introducción-a-r.html#variables"><i class="fa fa-check"></i><b>2.4.2</b> Variables</a></li>
<li class="chapter" data-level="2.4.3" data-path="introducción-a-r.html"><a href="introducción-a-r.html#vectores"><i class="fa fa-check"></i><b>2.4.3</b> Vectores</a></li>
<li class="chapter" data-level="2.4.4" data-path="introducción-a-r.html"><a href="introducción-a-r.html#matrices"><i class="fa fa-check"></i><b>2.4.4</b> Matrices</a></li>
<li class="chapter" data-level="2.4.5" data-path="introducción-a-r.html"><a href="introducción-a-r.html#arreglos"><i class="fa fa-check"></i><b>2.4.5</b> Arreglos</a></li>
<li class="chapter" data-level="2.4.6" data-path="introducción-a-r.html"><a href="introducción-a-r.html#data-frames"><i class="fa fa-check"></i><b>2.4.6</b> Data Frames</a></li>
<li class="chapter" data-level="2.4.7" data-path="introducción-a-r.html"><a href="introducción-a-r.html#listas"><i class="fa fa-check"></i><b>2.4.7</b> Listas</a></li>
<li class="chapter" data-level="2.4.8" data-path="introducción-a-r.html"><a href="introducción-a-r.html#ejercicios"><i class="fa fa-check"></i><b>2.4.8</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introducción-a-r.html"><a href="introducción-a-r.html#funbas"><i class="fa fa-check"></i><b>2.5</b> Funciones básicas de R</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introducción-a-r.html"><a href="introducción-a-r.html#qué-es-una-función-de-r"><i class="fa fa-check"></i><b>2.5.1</b> ¿Qué es una función de R?</a></li>
<li class="chapter" data-level="2.5.2" data-path="introducción-a-r.html"><a href="introducción-a-r.html#operaciones-básicas"><i class="fa fa-check"></i><b>2.5.2</b> Operaciones básicas</a></li>
<li class="chapter" data-level="2.5.3" data-path="introducción-a-r.html"><a href="introducción-a-r.html#pruebas-lógicas"><i class="fa fa-check"></i><b>2.5.3</b> Pruebas lógicas</a></li>
<li class="chapter" data-level="2.5.4" data-path="introducción-a-r.html"><a href="introducción-a-r.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.5.4</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.5.5" data-path="introducción-a-r.html"><a href="introducción-a-r.html#funciones-sobre-vectores"><i class="fa fa-check"></i><b>2.5.5</b> Funciones sobre vectores</a></li>
<li class="chapter" data-level="2.5.6" data-path="introducción-a-r.html"><a href="introducción-a-r.html#función-rep"><i class="fa fa-check"></i><b>2.5.6</b> Función <code>rep</code></a></li>
<li class="chapter" data-level="2.5.7" data-path="introducción-a-r.html"><a href="introducción-a-r.html#función-seq"><i class="fa fa-check"></i><b>2.5.7</b> Función <code>seq</code></a></li>
<li class="chapter" data-level="2.5.8" data-path="introducción-a-r.html"><a href="introducción-a-r.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5.8</b> EJERCICIOS</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introducción-a-r.html"><a href="introducción-a-r.html#bucles"><i class="fa fa-check"></i><b>2.6</b> Estructuras de control</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-if"><i class="fa fa-check"></i><b>2.6.1</b> Instrucción <code>if</code></a></li>
<li class="chapter" data-level="2.6.2" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-if-else"><i class="fa fa-check"></i><b>2.6.2</b> Instrucción <code>if</code> <code>else</code></a></li>
<li class="chapter" data-level="2.6.3" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-ifelse"><i class="fa fa-check"></i><b>2.6.3</b> Instrucción <code>ifelse</code></a></li>
<li class="chapter" data-level="2.6.4" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-else-if"><i class="fa fa-check"></i><b>2.6.4</b> Instrucción else if</a></li>
<li class="chapter" data-level="2.6.5" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-for"><i class="fa fa-check"></i><b>2.6.5</b> Instrucción <code>for</code></a></li>
<li class="chapter" data-level="2.6.6" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-while"><i class="fa fa-check"></i><b>2.6.6</b> Instrucción <code>while</code></a></li>
<li class="chapter" data-level="2.6.7" data-path="introducción-a-r.html"><a href="introducción-a-r.html#instrucción-repeat"><i class="fa fa-check"></i><b>2.6.7</b> Instrucción <code>repeat</code></a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introducción-a-r.html"><a href="introducción-a-r.html#estilo"><i class="fa fa-check"></i><b>2.7</b> Guía de estilo</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="introducción-a-r.html"><a href="introducción-a-r.html#nombres-de-los-archivos"><i class="fa fa-check"></i><b>2.7.1</b> Nombres de los archivos</a></li>
<li class="chapter" data-level="2.7.2" data-path="introducción-a-r.html"><a href="introducción-a-r.html#nombres-de-los-objetos"><i class="fa fa-check"></i><b>2.7.2</b> Nombres de los objetos</a></li>
<li class="chapter" data-level="2.7.3" data-path="introducción-a-r.html"><a href="introducción-a-r.html#longitud-de-una-línea-de-código"><i class="fa fa-check"></i><b>2.7.3</b> Longitud de una línea de código</a></li>
<li class="chapter" data-level="2.7.4" data-path="introducción-a-r.html"><a href="introducción-a-r.html#espacios"><i class="fa fa-check"></i><b>2.7.4</b> Espacios</a></li>
<li class="chapter" data-level="2.7.5" data-path="introducción-a-r.html"><a href="introducción-a-r.html#asignación"><i class="fa fa-check"></i><b>2.7.5</b> Asignación</a></li>
<li class="chapter" data-level="2.7.6" data-path="introducción-a-r.html"><a href="introducción-a-r.html#punto-y-coma"><i class="fa fa-check"></i><b>2.7.6</b> Punto y coma</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>3</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidyverse.html"><a href="tidyverse.html#lectura-de-archivos"><i class="fa fa-check"></i><b>3.1</b> Lectura de archivos</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tidyverse.html"><a href="tidyverse.html#archivos-csv"><i class="fa fa-check"></i><b>3.1.1</b> Archivos <em>csv</em></a></li>
<li class="chapter" data-level="3.1.2" data-path="tidyverse.html"><a href="tidyverse.html#archivos-txt"><i class="fa fa-check"></i><b>3.1.2</b> Archivos txt</a></li>
<li class="chapter" data-level="3.1.3" data-path="tidyverse.html"><a href="tidyverse.html#archivos-xls-y-xlsx"><i class="fa fa-check"></i><b>3.1.3</b> Archivos <em>xls</em> y <em>xlsx</em></a></li>
<li class="chapter" data-level="3.1.4" data-path="tidyverse.html"><a href="tidyverse.html#archivos-json"><i class="fa fa-check"></i><b>3.1.4</b> Archivos json</a></li>
<li class="chapter" data-level="3.1.5" data-path="tidyverse.html"><a href="tidyverse.html#archivos-rds"><i class="fa fa-check"></i><b>3.1.5</b> Archivos rds</a></li>
<li class="chapter" data-level="3.1.6" data-path="tidyverse.html"><a href="tidyverse.html#bases-de-datos"><i class="fa fa-check"></i><b>3.1.6</b> Bases de Datos</a></li>
<li class="chapter" data-level="3.1.7" data-path="tidyverse.html"><a href="tidyverse.html#oracle-database"><i class="fa fa-check"></i><b>3.1.7</b> Oracle Database</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tidyverse.html"><a href="tidyverse.html#consultas-de-datos"><i class="fa fa-check"></i><b>3.2</b> Consultas de datos</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tidyverse.html"><a href="tidyverse.html#seleccionar-columnas"><i class="fa fa-check"></i><b>3.2.1</b> Seleccionar columnas</a></li>
<li class="chapter" data-level="3.2.2" data-path="tidyverse.html"><a href="tidyverse.html#filtrar-observaciones"><i class="fa fa-check"></i><b>3.2.2</b> Filtrar observaciones</a></li>
<li class="chapter" data-level="3.2.3" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-registros"><i class="fa fa-check"></i><b>3.2.3</b> Ordenar registros</a></li>
<li class="chapter" data-level="3.2.4" data-path="tidyverse.html"><a href="tidyverse.html#agregar-modificar"><i class="fa fa-check"></i><b>3.2.4</b> Agregar / Modificar</a></li>
<li class="chapter" data-level="3.2.5" data-path="tidyverse.html"><a href="tidyverse.html#resumen-estadístico"><i class="fa fa-check"></i><b>3.2.5</b> Resumen estadístico</a></li>
<li class="chapter" data-level="3.2.6" data-path="tidyverse.html"><a href="tidyverse.html#agrupamiento"><i class="fa fa-check"></i><b>3.2.6</b> Agrupamiento</a></li>
<li class="chapter" data-level="3.2.7" data-path="tidyverse.html"><a href="tidyverse.html#cruces-de-tablas"><i class="fa fa-check"></i><b>3.2.7</b> Cruces de tablas</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tidyverse.html"><a href="tidyverse.html#orden-y-estructura"><i class="fa fa-check"></i><b>3.3</b> Orden y estructura</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="tidyverse.html"><a href="tidyverse.html#pivote-horizontal"><i class="fa fa-check"></i><b>3.3.1</b> Pivote horizontal</a></li>
<li class="chapter" data-level="3.3.2" data-path="tidyverse.html"><a href="tidyverse.html#pivote-vertical"><i class="fa fa-check"></i><b>3.3.2</b> Pivote vertical</a></li>
<li class="chapter" data-level="3.3.3" data-path="tidyverse.html"><a href="tidyverse.html#unión-de-columnas"><i class="fa fa-check"></i><b>3.3.3</b> Unión de columnas</a></li>
<li class="chapter" data-level="3.3.4" data-path="tidyverse.html"><a href="tidyverse.html#separador-de-columnas"><i class="fa fa-check"></i><b>3.3.4</b> Separador de columnas</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tidyverse.html"><a href="tidyverse.html#manipulación-de-texto"><i class="fa fa-check"></i><b>3.4</b> Manipulación de texto</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="tidyverse.html"><a href="tidyverse.html#caracteres-especiales"><i class="fa fa-check"></i><b>3.4.1</b> Caracteres especiales</a></li>
<li class="chapter" data-level="3.4.2" data-path="tidyverse.html"><a href="tidyverse.html#tamaño-de-cadena"><i class="fa fa-check"></i><b>3.4.2</b> Tamaño de cadena</a></li>
<li class="chapter" data-level="3.4.3" data-path="tidyverse.html"><a href="tidyverse.html#concatenar"><i class="fa fa-check"></i><b>3.4.3</b> Concatenar</a></li>
<li class="chapter" data-level="3.4.4" data-path="tidyverse.html"><a href="tidyverse.html#extraer-y-reemplazar"><i class="fa fa-check"></i><b>3.4.4</b> Extraer y reemplazar</a></li>
<li class="chapter" data-level="3.4.5" data-path="tidyverse.html"><a href="tidyverse.html#expresiones-regulares"><i class="fa fa-check"></i><b>3.4.5</b> Expresiones regulares</a></li>
<li class="chapter" data-level="3.4.6" data-path="tidyverse.html"><a href="tidyverse.html#detectar-coincidencias"><i class="fa fa-check"></i><b>3.4.6</b> Detectar coincidencias</a></li>
<li class="chapter" data-level="3.4.7" data-path="tidyverse.html"><a href="tidyverse.html#contabilizar-coincidencias"><i class="fa fa-check"></i><b>3.4.7</b> Contabilizar coincidencias</a></li>
<li class="chapter" data-level="3.4.8" data-path="tidyverse.html"><a href="tidyverse.html#extraer-coincidencias"><i class="fa fa-check"></i><b>3.4.8</b> Extraer coincidencias</a></li>
<li class="chapter" data-level="3.4.9" data-path="tidyverse.html"><a href="tidyverse.html#reemplazar-coincidencias"><i class="fa fa-check"></i><b>3.4.9</b> Reemplazar coincidencias</a></li>
<li class="chapter" data-level="3.4.10" data-path="tidyverse.html"><a href="tidyverse.html#divisiones-mediante-patrones"><i class="fa fa-check"></i><b>3.4.10</b> Divisiones mediante patrones</a></li>
<li class="chapter" data-level="3.4.11" data-path="tidyverse.html"><a href="tidyverse.html#localización-de-coincidencias"><i class="fa fa-check"></i><b>3.4.11</b> Localización de coincidencias</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tidyverse.html"><a href="tidyverse.html#manipulación-de-tiempo"><i class="fa fa-check"></i><b>3.5</b> Manipulación de tiempo</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="tidyverse.html"><a href="tidyverse.html#lectura-y-creación-de-datos-temporales"><i class="fa fa-check"></i><b>3.5.1</b> Lectura y creación de datos temporales</a></li>
<li class="chapter" data-level="3.5.2" data-path="tidyverse.html"><a href="tidyverse.html#extracción-de-datos-temporales"><i class="fa fa-check"></i><b>3.5.2</b> Extracción de datos temporales</a></li>
<li class="chapter" data-level="3.5.3" data-path="tidyverse.html"><a href="tidyverse.html#operaciones-temporales"><i class="fa fa-check"></i><b>3.5.3</b> Operaciones temporales</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tidyverse.html"><a href="tidyverse.html#iteraciones"><i class="fa fa-check"></i><b>3.6</b> Iteraciones</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="tidyverse.html"><a href="tidyverse.html#bucles-1"><i class="fa fa-check"></i><b>3.6.1</b> Bucles</a></li>
<li class="chapter" data-level="3.6.2" data-path="tidyverse.html"><a href="tidyverse.html#bucles-dobles"><i class="fa fa-check"></i><b>3.6.2</b> Bucles dobles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualización.html"><a href="visualización.html"><i class="fa fa-check"></i><b>4</b> Visualización</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualización.html"><a href="visualización.html#eda-análisis-exploratorio-de-datos"><i class="fa fa-check"></i><b>4.1</b> EDA: Análisis Exploratorio de Datos</a></li>
<li class="chapter" data-level="4.2" data-path="visualización.html"><a href="visualización.html#geda-análisis-exploratorio-de-datos-gráficos"><i class="fa fa-check"></i><b>4.2</b> GEDA: Análisis Exploratorio de Datos Gráficos</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="visualización.html"><a href="visualización.html#lo-que-no-se-debe-hacer"><i class="fa fa-check"></i><b>4.2.1</b> Lo que no se debe hacer…</a></li>
<li class="chapter" data-level="4.2.2" data-path="visualización.html"><a href="visualización.html#principios-de-visualización"><i class="fa fa-check"></i><b>4.2.2</b> Principios de visualización</a></li>
<li class="chapter" data-level="4.2.3" data-path="visualización.html"><a href="visualización.html#principios-generales-del-diseño-analítico"><i class="fa fa-check"></i><b>4.2.3</b> Principios generales del diseño analítico:</a></li>
<li class="chapter" data-level="4.2.4" data-path="visualización.html"><a href="visualización.html#técnicas-de-visualización"><i class="fa fa-check"></i><b>4.2.4</b> Técnicas de visualización:</a></li>
<li class="chapter" data-level="4.2.5" data-path="visualización.html"><a href="visualización.html#indicadores-de-calidad-gráfica"><i class="fa fa-check"></i><b>4.2.5</b> Indicadores de calidad gráfica:</a></li>
<li class="chapter" data-level="4.2.6" data-path="visualización.html"><a href="visualización.html#gráficos-univariados"><i class="fa fa-check"></i><b>4.2.6</b> Gráficos univariados:</a></li>
<li class="chapter" data-level="4.2.7" data-path="visualización.html"><a href="visualización.html#gráficos-multivariados"><i class="fa fa-check"></i><b>4.2.7</b> Gráficos multivariados</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="visualización.html"><a href="visualización.html#creación-de-gráficos"><i class="fa fa-check"></i><b>4.3</b> Creación de gráficos</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="visualización.html"><a href="visualización.html#estéticas"><i class="fa fa-check"></i><b>4.3.1</b> Estéticas</a></li>
<li class="chapter" data-level="4.3.2" data-path="visualización.html"><a href="visualización.html#objetos-geométricos-o-capas"><i class="fa fa-check"></i><b>4.3.2</b> Objetos geométricos o capas</a></li>
<li class="chapter" data-level="4.3.3" data-path="visualización.html"><a href="visualización.html#facetas"><i class="fa fa-check"></i><b>4.3.3</b> Facetas</a></li>
<li class="chapter" data-level="4.3.4" data-path="visualización.html"><a href="visualización.html#más-sobre-estéticas"><i class="fa fa-check"></i><b>4.3.4</b> Más sobre estéticas</a></li>
<li class="chapter" data-level="4.3.5" data-path="visualización.html"><a href="visualización.html#quick-view"><i class="fa fa-check"></i><b>4.3.5</b> Quick View</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="visualización.html"><a href="visualización.html#análisis-univariado"><i class="fa fa-check"></i><b>4.4</b> Análisis univariado</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="visualización.html"><a href="visualización.html#variables-numéricas"><i class="fa fa-check"></i><b>4.4.1</b> Variables numéricas</a></li>
<li class="chapter" data-level="4.4.2" data-path="visualización.html"><a href="visualización.html#variables-nominalescategóricas"><i class="fa fa-check"></i><b>4.4.2</b> Variables nominales/categóricas</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="visualización.html"><a href="visualización.html#análisis-multivariado"><i class="fa fa-check"></i><b>4.5</b> Análisis multivariado</a></li>
<li class="chapter" data-level="4.6" data-path="visualización.html"><a href="visualización.html#visualización-interactiva"><i class="fa fa-check"></i><b>4.6</b> Visualización interactiva</a>
<ul>
<li class="chapter" data-level="" data-path="visualización.html"><a href="visualización.html#warning"><i class="fa fa-check"></i>¡ Warning !</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="visualización.html"><a href="visualización.html#reporte-interactivos"><i class="fa fa-check"></i><b>4.7</b> Reporte interactivos</a></li>
</ul></li>
<li class="part"><span><b>Parte 2: Machine Learning</b></span></li>
<li class="chapter" data-level="5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html"><i class="fa fa-check"></i><b>5</b> Introducción a Machine Learning</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#análisis-supervisado-vs-no-supervisado"><i class="fa fa-check"></i><b>5.1</b> Análisis Supervisado vs No supervisado</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#regresión-vs-clasificación"><i class="fa fa-check"></i><b>5.1.1</b> Regresión vs clasificación</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#sesgo-vs-varianza"><i class="fa fa-check"></i><b>5.2</b> Sesgo vs varianza</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#errores-reducibles"><i class="fa fa-check"></i><b>5.2.1</b> Errores reducibles</a></li>
<li class="chapter" data-level="5.2.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#error-irreducible"><i class="fa fa-check"></i><b>5.2.2</b> Error irreducible</a></li>
<li class="chapter" data-level="5.2.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#balance-entre-sesgo-y-varianza-o-trade-off"><i class="fa fa-check"></i><b>5.2.3</b> Balance entre sesgo y varianza o Trade-off</a></li>
<li class="chapter" data-level="5.2.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#error-total"><i class="fa fa-check"></i><b>5.2.4</b> Error total</a></li>
<li class="chapter" data-level="5.2.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#overfitting"><i class="fa fa-check"></i><b>5.2.5</b> Overfitting</a></li>
<li class="chapter" data-level="5.2.6" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#underfitting"><i class="fa fa-check"></i><b>5.2.6</b> Underfitting</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#orden-y-estructura-de-proyecto"><i class="fa fa-check"></i><b>5.3</b> Orden y estructura de proyecto</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#plantilla-de-estructura-proyecto"><i class="fa fa-check"></i><b>5.3.1</b> Plantilla de estructura proyecto</a></li>
<li class="chapter" data-level="5.3.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#reproducibilidad"><i class="fa fa-check"></i><b>5.3.2</b> Reproducibilidad</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#partición-de-datos"><i class="fa fa-check"></i><b>5.4</b> Partición de datos</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#métodos-comunes-para-particionar-datos"><i class="fa fa-check"></i><b>5.4.1</b> Métodos comunes para particionar datos</a></li>
<li class="chapter" data-level="5.4.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#conjunto-de-validación"><i class="fa fa-check"></i><b>5.4.2</b> Conjunto de validación</a></li>
<li class="chapter" data-level="5.4.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#leave-one-out-cross-validation"><i class="fa fa-check"></i><b>5.4.3</b> Leave-one-out cross-validation</a></li>
<li class="chapter" data-level="5.4.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#v-fold-cross-validation"><i class="fa fa-check"></i><b>5.4.4</b> V Fold Cross Validation</a></li>
<li class="chapter" data-level="5.4.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#medidas-de-ajuste"><i class="fa fa-check"></i><b>5.4.5</b> Medidas de ajuste</a></li>
<li class="chapter" data-level="5.4.6" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#validación-cruzada-para-series-de-tiempo"><i class="fa fa-check"></i><b>5.4.6</b> Validación cruzada para series de tiempo</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#pre-procesamiento-de-datos"><i class="fa fa-check"></i><b>5.5</b> Pre-procesamiento de datos</a></li>
<li class="chapter" data-level="5.6" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#ingeniería-de-datos"><i class="fa fa-check"></i><b>5.6</b> Ingeniería de datos</a></li>
<li class="chapter" data-level="5.7" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#recetas"><i class="fa fa-check"></i><b>5.7</b> Recetas</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#pasos-y-estructura-de-recetas"><i class="fa fa-check"></i><b>5.7.1</b> Pasos y estructura de recetas</a></li>
<li class="chapter" data-level="5.7.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#imputaciones"><i class="fa fa-check"></i><b>5.7.2</b> Imputaciones</a></li>
<li class="chapter" data-level="5.7.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#agregar-o-modificar-columnas"><i class="fa fa-check"></i><b>5.7.3</b> Agregar o modificar columnas</a></li>
<li class="chapter" data-level="5.7.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#interacciones"><i class="fa fa-check"></i><b>5.7.4</b> Interacciones</a></li>
<li class="chapter" data-level="5.7.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#transformaciones-generales"><i class="fa fa-check"></i><b>5.7.5</b> Transformaciones generales</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#datos-y-tipos-de-modelos"><i class="fa fa-check"></i><b>5.8</b> Datos y tipos de modelos</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#separación-de-los-datos"><i class="fa fa-check"></i><b>5.8.1</b> Separación de los datos</a></li>
<li class="chapter" data-level="5.8.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#definición-de-la-receta"><i class="fa fa-check"></i><b>5.8.2</b> Definición de la receta</a></li>
<li class="chapter" data-level="5.8.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#separación-de-los-datos-1"><i class="fa fa-check"></i><b>5.8.3</b> Separación de los datos</a></li>
<li class="chapter" data-level="5.8.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#definición-de-la-receta-1"><i class="fa fa-check"></i><b>5.8.4</b> Definición de la receta</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regresión-lineal.html"><a href="regresión-lineal.html"><i class="fa fa-check"></i><b>6</b> Regresión Lineal</a>
<ul>
<li class="chapter" data-level="6.1" data-path="regresión-lineal.html"><a href="regresión-lineal.html#ajuste-de-modelo"><i class="fa fa-check"></i><b>6.1</b> Ajuste de modelo</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="regresión-lineal.html"><a href="regresión-lineal.html#estimación-de-parámetros-regresión-lineal-simple"><i class="fa fa-check"></i><b>6.1.1</b> Estimación de parámetros: Regresión lineal simple</a></li>
<li class="chapter" data-level="6.1.2" data-path="regresión-lineal.html"><a href="regresión-lineal.html#estimación-de-parámetros-regresión-lineal-múltiple"><i class="fa fa-check"></i><b>6.1.2</b> Estimación de parámetros: Regresión lineal múltiple</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="regresión-lineal.html"><a href="regresión-lineal.html#residuos-del-modelo"><i class="fa fa-check"></i><b>6.2</b> Residuos del modelo</a>
<ul>
<li class="chapter" data-level="" data-path="regresión-lineal.html"><a href="regresión-lineal.html#condiciones-para-el-ajuste-de-una-regresión-lineal"><i class="fa fa-check"></i>Condiciones para el ajuste de una regresión lineal:</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="regresión-lineal.html"><a href="regresión-lineal.html#métricas-de-desempeño"><i class="fa fa-check"></i><b>6.3</b> Métricas de desempeño</a></li>
<li class="chapter" data-level="6.4" data-path="regresión-lineal.html"><a href="regresión-lineal.html#implementación-en-r"><i class="fa fa-check"></i><b>6.4</b> Implementación en R</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="regresión-lineal.html"><a href="regresión-lineal.html#coeficientes-del-modelo"><i class="fa fa-check"></i><b>6.4.1</b> Coeficientes del modelo</a></li>
<li class="chapter" data-level="6.4.2" data-path="regresión-lineal.html"><a href="regresión-lineal.html#métricas-de-desempeño-1"><i class="fa fa-check"></i><b>6.4.2</b> Métricas de desempeño</a></li>
<li class="chapter" data-level="6.4.3" data-path="regresión-lineal.html"><a href="regresión-lineal.html#gráfica-de-ajuste"><i class="fa fa-check"></i><b>6.4.3</b> Gráfica de ajuste</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="regresión-lineal.html"><a href="regresión-lineal.html#métodos-se-selección-de-variables"><i class="fa fa-check"></i><b>6.5</b> Métodos se selección de variables</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="regresión-lineal.html"><a href="regresión-lineal.html#forward-selection-selección-hacia-adelante"><i class="fa fa-check"></i><b>6.5.1</b> Forward selection (selección hacia adelante)</a></li>
<li class="chapter" data-level="6.5.2" data-path="regresión-lineal.html"><a href="regresión-lineal.html#backward-selection-selección-hacia-atrás"><i class="fa fa-check"></i><b>6.5.2</b> Backward selection (selección hacia atrás)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="regresión-logística.html"><a href="regresión-logística.html"><i class="fa fa-check"></i><b>7</b> Regresión Logística</a>
<ul>
<li class="chapter" data-level="7.1" data-path="regresión-logística.html"><a href="regresión-logística.html#función-sigmoide"><i class="fa fa-check"></i><b>7.1</b> Función sigmoide</a></li>
<li class="chapter" data-level="7.2" data-path="regresión-logística.html"><a href="regresión-logística.html#ajuste-del-modelo"><i class="fa fa-check"></i><b>7.2</b> Ajuste del modelo</a></li>
<li class="chapter" data-level="7.3" data-path="regresión-logística.html"><a href="regresión-logística.html#clasificación-2"><i class="fa fa-check"></i><b>7.3</b> Clasificación</a></li>
<li class="chapter" data-level="7.4" data-path="regresión-logística.html"><a href="regresión-logística.html#métricas-de-desempeño-2"><i class="fa fa-check"></i><b>7.4</b> Métricas de desempeño</a></li>
<li class="chapter" data-level="7.5" data-path="regresión-logística.html"><a href="regresión-logística.html#implementación-en-r-1"><i class="fa fa-check"></i><b>7.5</b> Implementación en R</a></li>
<li class="chapter" data-level="7.6" data-path="regresión-logística.html"><a href="regresión-logística.html#matriz-de-confusión"><i class="fa fa-check"></i><b>7.6</b> Matriz de Confusión</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html"><i class="fa fa-check"></i><b>8</b> K-Nearest-Neighbor</a>
<ul>
<li class="chapter" data-level="8.1" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#clasificación-3"><i class="fa fa-check"></i><b>8.1</b> Clasificación</a></li>
<li class="chapter" data-level="8.2" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#regresión-2"><i class="fa fa-check"></i><b>8.2</b> Regresión</a></li>
<li class="chapter" data-level="8.3" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#ajuste-del-modelo-1"><i class="fa fa-check"></i><b>8.3</b> Ajuste del modelo</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#selección-de-hiper-parámetro-k"><i class="fa fa-check"></i><b>8.3.1</b> Selección de Hiper-parámetro K</a></li>
<li class="chapter" data-level="8.3.2" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#métodos-de-cálculo-de-la-distancia-entre-observaciones"><i class="fa fa-check"></i><b>8.3.2</b> Métodos de cálculo de la distancia entre observaciones</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#implementación-en-r-2"><i class="fa fa-check"></i><b>8.4</b> Implementación en R</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#regresión-3"><i class="fa fa-check"></i><b>8.4.1</b> Regresión</a></li>
<li class="chapter" data-level="8.4.2" data-path="k-nearest-neighbor.html"><a href="k-nearest-neighbor.html#clasificación-4"><i class="fa fa-check"></i><b>8.4.2</b> Clasificación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html"><i class="fa fa-check"></i><b>9</b> Árboles de decisión</a>
<ul>
<li class="chapter" data-level="9.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#ajuste-del-modelo-2"><i class="fa fa-check"></i><b>9.1</b> Ajuste del modelo</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#attribute-selective-measure-asm"><i class="fa fa-check"></i><b>9.1.1</b> Attribute Selective Measure (ASM)</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#regularización-de-árboles"><i class="fa fa-check"></i><b>9.2</b> Regularización de árboles</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#nivel-de-profundidad-de-árbol"><i class="fa fa-check"></i><b>9.2.1</b> Nivel de profundidad de árbol</a></li>
<li class="chapter" data-level="9.2.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#poda-de-árbol"><i class="fa fa-check"></i><b>9.2.2</b> Poda de árbol</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#aprendizaje-conjunto"><i class="fa fa-check"></i><b>9.3</b> Aprendizaje conjunto</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#bagging-vs.-boosting"><i class="fa fa-check"></i><b>9.3.1</b> Bagging vs. boosting</a></li>
<li class="chapter" data-level="9.3.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#error-out-of-bag"><i class="fa fa-check"></i><b>9.3.2</b> Error Out-Of-Bag</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#bagging"><i class="fa fa-check"></i><b>9.4</b> Bagging</a></li>
<li class="chapter" data-level="9.5" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#random-forest"><i class="fa fa-check"></i><b>9.5</b> Random Forest</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#qué-es"><i class="fa fa-check"></i><b>9.5.1</b> ¿Qué es?</a></li>
<li class="chapter" data-level="9.5.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#características-de-los-bosques-aleatorios"><i class="fa fa-check"></i><b>9.5.2</b> Características de los bosques aleatorios</a></li>
<li class="chapter" data-level="9.5.3" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#aplicar-árboles-de-decisión-en-un-bosque-aleatorio"><i class="fa fa-check"></i><b>9.5.3</b> Aplicar árboles de decisión en un bosque aleatorio</a></li>
<li class="chapter" data-level="9.5.4" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#ventajas-y-desventjas-de-bosques-aleatorios"><i class="fa fa-check"></i><b>9.5.4</b> Ventajas y desventjas de bosques aleatorios</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#implementación-de-rf-en-r"><i class="fa fa-check"></i><b>9.6</b> Implementación de RF en R</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#regresión-4"><i class="fa fa-check"></i><b>9.6.1</b> Regresión</a></li>
<li class="chapter" data-level="9.6.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#clasificación-5"><i class="fa fa-check"></i><b>9.6.2</b> Clasificación</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#boosting"><i class="fa fa-check"></i><b>9.7</b> Boosting</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#predicciones-boosting"><i class="fa fa-check"></i><b>9.7.1</b> Predicciones <em>Boosting</em></a></li>
<li class="chapter" data-level="9.7.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#modelos-boosting"><i class="fa fa-check"></i><b>9.7.2</b> Modelos <em>Boosting</em></a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#implementación-de-xgb-en-r"><i class="fa fa-check"></i><b>9.8</b> Implementación de XGB en R</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#xgboost-para-regresión"><i class="fa fa-check"></i><b>9.8.1</b> XGBoost para regresión</a></li>
<li class="chapter" data-level="9.8.2" data-path="árboles-de-decisión.html"><a href="árboles-de-decisión.html#xgboost-para-clasificación"><i class="fa fa-check"></i><b>9.8.2</b> XGBoost para clasificación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html"><i class="fa fa-check"></i><b>10</b> Regularización Elasticnet</a>
<ul>
<li class="chapter" data-level="10.1" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#regularización-ridge"><i class="fa fa-check"></i><b>10.1</b> Regularización Ridge</a></li>
<li class="chapter" data-level="10.2" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#regularización-lasso"><i class="fa fa-check"></i><b>10.2</b> Regularización Lasso</a></li>
<li class="chapter" data-level="10.3" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#comparación-entre-ridge-y-lasso"><i class="fa fa-check"></i><b>10.3</b> Comparación entre Ridge y Lasso</a></li>
<li class="chapter" data-level="10.4" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#elasticnet"><i class="fa fa-check"></i><b>10.4</b> ElasticNet</a></li>
<li class="chapter" data-level="10.5" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#implementación-en-r-3"><i class="fa fa-check"></i><b>10.5</b> Implementación en R</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#regresión-5"><i class="fa fa-check"></i><b>10.5.1</b> Regresión</a></li>
<li class="chapter" data-level="10.5.2" data-path="regularización-elasticnet.html"><a href="regularización-elasticnet.html#clasificación-6"><i class="fa fa-check"></i><b>10.5.2</b> Clasificación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html"><i class="fa fa-check"></i><b>11</b> Workflowsets &amp; Stacking</a>
<ul>
<li class="chapter" data-level="11.1" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#múltiples-recetas"><i class="fa fa-check"></i><b>11.1</b> Múltiples recetas</a></li>
<li class="chapter" data-level="11.2" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#múltiples-modelos"><i class="fa fa-check"></i><b>11.2</b> Múltiples modelos</a></li>
<li class="chapter" data-level="11.3" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#creación-de-workflowset"><i class="fa fa-check"></i><b>11.3</b> Creación de workflowset</a></li>
<li class="chapter" data-level="11.4" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#ajuste-y-evaluación-de-modelos"><i class="fa fa-check"></i><b>11.4</b> Ajuste y evaluación de modelos</a></li>
<li class="chapter" data-level="11.5" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#extracción-de-modelos"><i class="fa fa-check"></i><b>11.5</b> Extracción de modelos</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#selección-de-modelo"><i class="fa fa-check"></i><b>11.5.1</b> Selección de modelo</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#stacking"><i class="fa fa-check"></i><b>11.6</b> Stacking</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#elección-de-modelos"><i class="fa fa-check"></i><b>11.6.1</b> Elección de modelos</a></li>
<li class="chapter" data-level="11.6.2" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#ajuste-final"><i class="fa fa-check"></i><b>11.6.2</b> Ajuste final</a></li>
<li class="chapter" data-level="11.6.3" data-path="workflowsets-stacking.html"><a href="workflowsets-stacking.html#comparación-de-métricas"><i class="fa fa-check"></i><b>11.6.3</b> Comparación de métricas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html"><i class="fa fa-check"></i><b>12</b> Sesgo e Inequidad</a>
<ul>
<li class="chapter" data-level="12.1" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#propósito-vs-error"><i class="fa fa-check"></i><b>12.1</b> Propósito Vs Error</a></li>
<li class="chapter" data-level="12.2" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#métricas"><i class="fa fa-check"></i><b>12.2</b> Métricas</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#equal-parity-or-demographic-or-statistical-parity"><i class="fa fa-check"></i><b>12.2.1</b> Equal Parity or Demographic or Statistical Parity</a></li>
<li class="chapter" data-level="12.2.2" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#proportional-parity-o-impact-parity-o-minimizing-disparate-impact"><i class="fa fa-check"></i><b>12.2.2</b> Proportional Parity o Impact Parity o Minimizing Disparate Impact</a></li>
<li class="chapter" data-level="12.2.3" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#equalized-odds"><i class="fa fa-check"></i><b>12.2.3</b> Equalized odds</a></li>
<li class="chapter" data-level="12.2.4" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#predictive-rate-parity"><i class="fa fa-check"></i><b>12.2.4</b> Predictive rate parity</a></li>
<li class="chapter" data-level="12.2.5" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#accuracy-parity"><i class="fa fa-check"></i><b>12.2.5</b> Accuracy parity</a></li>
<li class="chapter" data-level="12.2.6" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#false-negative-parity-o-equal-oppportunity"><i class="fa fa-check"></i><b>12.2.6</b> False Negative Parity o Equal Oppportunity</a></li>
<li class="chapter" data-level="12.2.7" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#false-positive-parity"><i class="fa fa-check"></i><b>12.2.7</b> False Positive Parity</a></li>
<li class="chapter" data-level="12.2.8" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#negative-predictive-value-parity"><i class="fa fa-check"></i><b>12.2.8</b> Negative predictive value parity</a></li>
<li class="chapter" data-level="12.2.9" data-path="sesgo-e-inequidad.html"><a href="sesgo-e-inequidad.html#specificity-parity"><i class="fa fa-check"></i><b>12.2.9</b> Specificity parity</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html"><i class="fa fa-check"></i><b>13</b> Interpretabilidad local</a>
<ul>
<li class="chapter" data-level="13.1" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#interpretabilidad-lime"><i class="fa fa-check"></i><b>13.1</b> Interpretabilidad LIME</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#proceso"><i class="fa fa-check"></i><b>13.1.1</b> Proceso</a></li>
<li class="chapter" data-level="13.1.2" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#características-principales"><i class="fa fa-check"></i><b>13.1.2</b> Características principales</a></li>
<li class="chapter" data-level="13.1.3" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#implementación-con-r"><i class="fa fa-check"></i><b>13.1.3</b> Implementación con <em>R</em></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#interpretabilidad-dalextra"><i class="fa fa-check"></i><b>13.2</b> Interpretabilidad DALEXtra</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#otros-métodos"><i class="fa fa-check"></i><b>13.2.1</b> Otros métodos</a></li>
<li class="chapter" data-level="13.2.2" data-path="interpretabilidad-local.html"><a href="interpretabilidad-local.html#consejos"><i class="fa fa-check"></i><b>13.2.2</b> Consejos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="a-b---testing.html"><a href="a-b---testing.html"><i class="fa fa-check"></i><b>14</b> A / B - testing</a>
<ul>
<li class="chapter" data-level="14.1" data-path="a-b---testing.html"><a href="a-b---testing.html#elementos-en-riesgo"><i class="fa fa-check"></i><b>14.1</b> Elementos en riesgo</a></li>
<li class="chapter" data-level="14.2" data-path="a-b---testing.html"><a href="a-b---testing.html#costo-de-retención"><i class="fa fa-check"></i><b>14.2</b> Costo de retención</a></li>
<li class="chapter" data-level="14.3" data-path="a-b---testing.html"><a href="a-b---testing.html#diseño-experimental"><i class="fa fa-check"></i><b>14.3</b> Diseño experimental</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="a-b---testing.html"><a href="a-b---testing.html#qué-es-y-para-qué-sirve-muestreo"><i class="fa fa-check"></i><b>14.3.1</b> ¿Qué es y para qué sirve muestreo?</a></li>
<li class="chapter" data-level="14.3.2" data-path="a-b---testing.html"><a href="a-b---testing.html#muestreo-estratificado"><i class="fa fa-check"></i><b>14.3.2</b> Muestreo estratificado</a></li>
<li class="chapter" data-level="14.3.3" data-path="a-b---testing.html"><a href="a-b---testing.html#marco-de-muestreo"><i class="fa fa-check"></i><b>14.3.3</b> Marco de muestreo</a></li>
<li class="chapter" data-level="14.3.4" data-path="a-b---testing.html"><a href="a-b---testing.html#tamaño-de-muestra"><i class="fa fa-check"></i><b>14.3.4</b> Tamaño de muestra</a></li>
<li class="chapter" data-level="14.3.5" data-path="a-b---testing.html"><a href="a-b---testing.html#distribución-muestral"><i class="fa fa-check"></i><b>14.3.5</b> Distribución muestral</a></li>
<li class="chapter" data-level="14.3.6" data-path="a-b---testing.html"><a href="a-b---testing.html#probabilidades-y-factores"><i class="fa fa-check"></i><b>14.3.6</b> Probabilidades y Factores</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="a-b---testing.html"><a href="a-b---testing.html#extracción-de-muestra"><i class="fa fa-check"></i><b>14.4</b> Extracción de muestra</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="a-b---testing.html"><a href="a-b---testing.html#muestreo-estratificado-1"><i class="fa fa-check"></i><b>14.4.1</b> Muestreo estratificado</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="a-b---testing.html"><a href="a-b---testing.html#estimación-muestral"><i class="fa fa-check"></i><b>14.5</b> Estimación muestral</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="a-b---testing.html"><a href="a-b---testing.html#implementación-de-diseño-muestral"><i class="fa fa-check"></i><b>14.5.1</b> Implementación de diseño muestral</a></li>
<li class="chapter" data-level="14.5.2" data-path="a-b---testing.html"><a href="a-b---testing.html#estimación-de-resultados"><i class="fa fa-check"></i><b>14.5.2</b> Estimación de resultados</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="./"><img src="img/amat-logo.png" width="280"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciencia de Datos y Machine Learning</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-b---testing" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Capítulo 14</span> A / B - testing<a href="a-b---testing.html#a-b---testing" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Los modelos de machine learning en la gran mayoría de las ocasiones tienen un propósito comercial. Como científicos de datos, es nuestra responsabilidad ayudar al negocio a tomar mejores decisiones que beneficien a la empresa en donde se ha desarrollado el modelo predictivo. Particularmente, una de las aplicaciones de mayor impacto en los últimos años es la <strong>reducción del CHURN</strong></p>
<p>El churn rate o tasa de cancelación, es el <strong>porcentaje de clientes o suscriptores que dejan de utilizar los servicios que ofrece una empresa.</strong></p>
<p><img src="img/14-ab-testing/churn.png" width="600pt" height="250" style="display: block; margin: auto;" /></p>
<p>Es bastante conocido en el mundo del marketing que es mucho más caro adquirir nuevos clientes que retener a aquellos con los que ya cuenta la empresa. Es por esta razón que adicional a los esfuerzos de captar nuevos clientes se realizan esfuerzos por retener a los clientes con alta probabilidad de abandonar la empresa.</p>
<p>A partir de los modelos de machine learning que han sido estudiados en el curso para detectar la posible inclusión a una categoría (cancelación de clientes) es que se realizará en este capítulo el estudio de técnicas para cuantificar el impacto de los modelos predictivos y de las estrategias de retención.</p>
<p>Existen múltiples estrategias que surgen en las áreas de marketing para retener a los clientes. Hay una inversión muy grande de dinero que busca encontrar las mejores ideas que contribuyan a la retención. Sin embargo, <strong>poner todas estas ideas y estrategias a trabajar puede ser bastante costoso y riesgoso.</strong></p>
<ul>
<li><p>¿Qué pasa si la empresa gasta grandes cantidades de dinero en campañas publicitarias y estas no ayudan a alcanzar la meta?</p></li>
<li><p>¿Qué sucede si se le invierte mucho tiempo en refinar la estrategia y esta nunca atrae a los clientes esperados?</p></li>
</ul>
<p>Este capítulo está destinado a discutir métodos de evaluación de esas ideas, de modo que antes de comprometernos completamente con una campaña e implementarla con todos los clientes, podamos hacer pequeñas pruebas con significancia estadística para determinar cuál de ellas tiene el mejor impacto sobre los objetivos planteados.</p>
<div id="elementos-en-riesgo" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> Elementos en riesgo<a href="a-b---testing.html#elementos-en-riesgo" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El primer paso es detectar a los posibles canceladores de servicios para la empresa. Esta tarea ha sido ampliamente estudiada en el curso mediante múltiples modelos predictivos, entre los que se encuentran:</p>
<ul>
<li>Regresión bernoulli (logística)</li>
<li>Regresión Ridge</li>
<li>Regresión Lasso</li>
<li>KNN</li>
<li>Árbol de decisión</li>
<li>Bagging</li>
<li>Bosque aleatorio</li>
<li>Boosting</li>
<li>Stacking</li>
</ul>
<p>Recordemos que anteriormente ya se ha realizado la partición de los datos y se cuenta con varias configuraciones de cada modelo.</p>
<div class="sourceCode" id="cb932"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb932-1"><a href="a-b---testing.html#cb932-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb932-2"><a href="a-b---testing.html#cb932-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb932-3"><a href="a-b---testing.html#cb932-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb932-4"><a href="a-b---testing.html#cb932-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb932-5"><a href="a-b---testing.html#cb932-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb932-6"><a href="a-b---testing.html#cb932-6" aria-hidden="true" tabindex="-1"></a>telco <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Churn.csv&quot;</span>)</span>
<span id="cb932-7"><a href="a-b---testing.html#cb932-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb932-8"><a href="a-b---testing.html#cb932-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb932-9"><a href="a-b---testing.html#cb932-9" aria-hidden="true" tabindex="-1"></a>telco_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(telco, <span class="at">prop =</span> .<span class="dv">70</span>)</span>
<span id="cb932-10"><a href="a-b---testing.html#cb932-10" aria-hidden="true" tabindex="-1"></a>telco_train  <span class="ot">&lt;-</span> <span class="fu">training</span>(telco_split)</span>
<span id="cb932-11"><a href="a-b---testing.html#cb932-11" aria-hidden="true" tabindex="-1"></a>telco_test  <span class="ot">&lt;-</span> <span class="fu">testing</span>(telco_split)</span>
<span id="cb932-12"><a href="a-b---testing.html#cb932-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb932-13"><a href="a-b---testing.html#cb932-13" aria-hidden="true" tabindex="-1"></a>knn_tune_class_result <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;models/knn_model_cla.rds&quot;</span>)</span></code></pre></div>
<p>A partir de los resultados de los modelos, se realizó una priorización para determinar cuál de ellos eran los más valiosos en términos de predicción.</p>
<div class="sourceCode" id="cb933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb933-1"><a href="a-b---testing.html#cb933-1" aria-hidden="true" tabindex="-1"></a><span class="fu">show_best</span>(knn_tune_class_result, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">metric =</span> <span class="st">&quot;roc_auc&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 8
##        K weight_func .metric .estimator  mean     n std_err .config             
##    &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
##  1    75 gaussian    roc_auc binary     0.831    10 0.00452 Preprocessor1_Model…
##  2    79 cos         roc_auc binary     0.831    10 0.00458 Preprocessor1_Model…
##  3    59 cos         roc_auc binary     0.831    10 0.00442 Preprocessor1_Model…
##  4    67 gaussian    roc_auc binary     0.831    10 0.00446 Preprocessor1_Model…
##  5    70 cos         roc_auc binary     0.831    10 0.00456 Preprocessor1_Model…
##  6    65 cos         roc_auc binary     0.831    10 0.00453 Preprocessor1_Model…
##  7    56 cos         roc_auc binary     0.831    10 0.00445 Preprocessor1_Model…
##  8    51 cos         roc_auc binary     0.831    10 0.00443 Preprocessor1_Model…
##  9    48 cos         roc_auc binary     0.831    10 0.00436 Preprocessor1_Model…
## 10    59 gaussian    roc_auc binary     0.830    10 0.00440 Preprocessor1_Model…</code></pre>
<p>Y mediante una elección de métrica y método, se seleccionó al más valioso para re-entrenarse usando todos los datos disponibles de entrenamiento.</p>
<div class="sourceCode" id="cb935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb935-1"><a href="a-b---testing.html#cb935-1" aria-hidden="true" tabindex="-1"></a>knn_classification_best_model <span class="ot">&lt;-</span> <span class="fu">select_best</span>(knn_tune_class_result, <span class="at">metric =</span> <span class="st">&quot;roc_auc&quot;</span>)</span>
<span id="cb935-2"><a href="a-b---testing.html#cb935-2" aria-hidden="true" tabindex="-1"></a>knn_classification_best_model</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##       K weight_func .config              
##   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                
## 1    75 gaussian    Preprocessor1_Model26</code></pre>
<div class="sourceCode" id="cb937"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb937-1"><a href="a-b---testing.html#cb937-1" aria-hidden="true" tabindex="-1"></a>knn_classification_final_model <span class="ot">&lt;-</span> knn_workflow <span class="sc">%&gt;%</span></span>
<span id="cb937-2"><a href="a-b---testing.html#cb937-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">finalize_workflow</span>(knn_classification_best_model) <span class="sc">%&gt;%</span></span>
<span id="cb937-3"><a href="a-b---testing.html#cb937-3" aria-hidden="true" tabindex="-1"></a>  parsnip<span class="sc">::</span><span class="fu">fit</span>(<span class="at">data =</span> telco_train)</span></code></pre></div>
<p>Mediante este modelo final, se realizaron las predicciones de cancelación de servicios a clientes de telecomunicaciones. Para estos clientes se cuenta con la respuesta correcta debido a que se trata de los datos de testing.</p>
<div class="sourceCode" id="cb938"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb938-1"><a href="a-b---testing.html#cb938-1" aria-hidden="true" tabindex="-1"></a>class_results <span class="ot">&lt;-</span> <span class="fu">predict</span>(knn_classification_final_model, telco_test, <span class="at">type =</span> <span class="st">&quot;prob&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb938-2"><a href="a-b---testing.html#cb938-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(</span>
<span id="cb938-3"><a href="a-b---testing.html#cb938-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Churn =</span> telco_test<span class="sc">$</span>Churn,</span>
<span id="cb938-4"><a href="a-b---testing.html#cb938-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">customerID =</span> telco_test<span class="sc">$</span>customerID) <span class="sc">%&gt;%</span> </span>
<span id="cb938-5"><a href="a-b---testing.html#cb938-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(customerID, <span class="at">.before =</span> .pred_No) <span class="sc">%&gt;%</span> </span>
<span id="cb938-6"><a href="a-b---testing.html#cb938-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Churn =</span> <span class="fu">factor</span>(Churn, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;Yes&#39;</span>, <span class="st">&#39;No&#39;</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;Yes&#39;</span>, <span class="st">&#39;No&#39;</span>)))</span>
<span id="cb938-7"><a href="a-b---testing.html#cb938-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb938-8"><a href="a-b---testing.html#cb938-8" aria-hidden="true" tabindex="-1"></a>class_results</span></code></pre></div>
<pre><code>## # A tibble: 2,113 × 4
##    customerID .pred_No .pred_Yes Churn
##    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;fct&gt;
##  1 5575-GNVDE    0.969   0.0311  No   
##  2 9305-CDSKC    0.279   0.721   Yes  
##  3 6713-OKOMC    0.723   0.277   No   
##  4 7469-LKBCI    1       0       No   
##  5 9959-WOFKT    0.877   0.123   No   
##  6 4183-MYFRB    0.519   0.481   No   
##  7 1680-VDCWW    0.998   0.00238 No   
##  8 6322-HRPFA    0.845   0.155   No   
##  9 8665-UTDHZ    0.652   0.348   Yes  
## 10 5248-YGIJN    0.991   0.00923 No   
## # … with 2,103 more rows</code></pre>
<p>Hasta este punto, únicamente se han calculado probabilidades y no se han tomado decisiones sobre la determinación de elementos a quienes se realizará alguna intervención de retención.</p>
<div class="sourceCode" id="cb940"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb940-1"><a href="a-b---testing.html#cb940-1" aria-hidden="true" tabindex="-1"></a>roc_auc_value <span class="ot">&lt;-</span> <span class="fu">roc_auc</span>(</span>
<span id="cb940-2"><a href="a-b---testing.html#cb940-2" aria-hidden="true" tabindex="-1"></a>  class_results, <span class="at">truth =</span> Churn, <span class="at">estimate =</span> .pred_Yes</span>
<span id="cb940-3"><a href="a-b---testing.html#cb940-3" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb940-4"><a href="a-b---testing.html#cb940-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-5"><a href="a-b---testing.html#cb940-5" aria-hidden="true" tabindex="-1"></a>pr_auc_value <span class="ot">&lt;-</span> <span class="fu">pr_auc</span>(</span>
<span id="cb940-6"><a href="a-b---testing.html#cb940-6" aria-hidden="true" tabindex="-1"></a>  class_results, <span class="at">truth =</span> Churn, <span class="at">estimate =</span> .pred_Yes</span>
<span id="cb940-7"><a href="a-b---testing.html#cb940-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb940-8"><a href="a-b---testing.html#cb940-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-9"><a href="a-b---testing.html#cb940-9" aria-hidden="true" tabindex="-1"></a>roc_curve_data <span class="ot">&lt;-</span> <span class="fu">roc_curve</span>(</span>
<span id="cb940-10"><a href="a-b---testing.html#cb940-10" aria-hidden="true" tabindex="-1"></a>  class_results, </span>
<span id="cb940-11"><a href="a-b---testing.html#cb940-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">truth =</span> Churn, </span>
<span id="cb940-12"><a href="a-b---testing.html#cb940-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate =</span> .pred_Yes</span>
<span id="cb940-13"><a href="a-b---testing.html#cb940-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb940-14"><a href="a-b---testing.html#cb940-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-15"><a href="a-b---testing.html#cb940-15" aria-hidden="true" tabindex="-1"></a>roc_curve_plot <span class="ot">&lt;-</span> roc_curve_data <span class="sc">%&gt;%</span> </span>
<span id="cb940-16"><a href="a-b---testing.html#cb940-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span> <span class="sc">-</span> specificity, <span class="at">y =</span> sensitivity)) <span class="sc">+</span></span>
<span id="cb940-17"><a href="a-b---testing.html#cb940-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">&#39;lightblue&#39;</span>) <span class="sc">+</span></span>
<span id="cb940-18"><a href="a-b---testing.html#cb940-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>() <span class="sc">+</span></span>
<span id="cb940-19"><a href="a-b---testing.html#cb940-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb940-20"><a href="a-b---testing.html#cb940-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;ROC Curve &quot;</span>, <span class="st">&quot;(&quot;</span>, <span class="fu">round</span>(roc_auc_value<span class="sc">$</span>.estimate, <span class="dv">2</span>),<span class="st">&quot;)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb940-21"><a href="a-b---testing.html#cb940-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb940-22"><a href="a-b---testing.html#cb940-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-23"><a href="a-b---testing.html#cb940-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-24"><a href="a-b---testing.html#cb940-24" aria-hidden="true" tabindex="-1"></a>pr_curve_data <span class="ot">&lt;-</span> <span class="fu">pr_curve</span>(</span>
<span id="cb940-25"><a href="a-b---testing.html#cb940-25" aria-hidden="true" tabindex="-1"></a>  class_results, </span>
<span id="cb940-26"><a href="a-b---testing.html#cb940-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">truth =</span> Churn, </span>
<span id="cb940-27"><a href="a-b---testing.html#cb940-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate =</span> .pred_Yes</span>
<span id="cb940-28"><a href="a-b---testing.html#cb940-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb940-29"><a href="a-b---testing.html#cb940-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-30"><a href="a-b---testing.html#cb940-30" aria-hidden="true" tabindex="-1"></a>pr_curve_plot <span class="ot">&lt;-</span> pr_curve_data <span class="sc">%&gt;%</span> </span>
<span id="cb940-31"><a href="a-b---testing.html#cb940-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> recall, <span class="at">y =</span> precision)) <span class="sc">+</span></span>
<span id="cb940-32"><a href="a-b---testing.html#cb940-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">&#39;lightblue&#39;</span>) <span class="sc">+</span></span>
<span id="cb940-33"><a href="a-b---testing.html#cb940-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb940-34"><a href="a-b---testing.html#cb940-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Precision vs Recall &quot;</span>, <span class="st">&quot;(&quot;</span>, <span class="fu">round</span>(pr_auc_value<span class="sc">$</span>.estimate, <span class="dv">2</span>),<span class="st">&quot;)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb940-35"><a href="a-b---testing.html#cb940-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb940-36"><a href="a-b---testing.html#cb940-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-37"><a href="a-b---testing.html#cb940-37" aria-hidden="true" tabindex="-1"></a>roc_curve_plot <span class="sc">+</span> pr_curve_plot</span></code></pre></div>
<p><img src="amt22_aserta_intro2dsml_files/figure-html/unnamed-chunk-666-1.png" width="672" /></p>
</div>
<div id="costo-de-retención" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> Costo de retención<a href="a-b---testing.html#costo-de-retención" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Supongamos que existe un presupuesto designado a retener a los clientes de una compañía de telecomunicaciones que son áltamente probables de cancelar su servicio en los siguientes 3 meses. El presupuesto asignado es de $50,000.00 dólares y el equipo el marketing aún no se decide qué ofrecer:</p>
<ol style="list-style-type: lower-alpha">
<li><p>1 mes gratis de servicio</p></li>
<li><p>1 celular gratis con valor de $100 dólares (para la empresa)</p></li>
</ol>
<p><strong>¿Cuántos clientes podrían ser intervenidos con cada uno de los posibles métodos?</strong></p>
<p>Considere los siguientes escenarios:</p>
<ol style="list-style-type: decimal">
<li><p>Todas las retenciones son mediante meses gratis de servicio.</p></li>
<li><p>Todas las retenciones son mediante el celular gratis.</p></li>
</ol>
<p><strong>Costo de promoción de servicio</strong></p>
<p>El primer escenario considera que se obsequie un mes gratis de servicio al renovar un año completo. Para cada cliente se tiene en los datos el pago mensual que realizan, por lo que es posible priorizar de alguna manera a los clientes con mayor necesidad de retención</p>
<div class="sourceCode" id="cb941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb941-1"><a href="a-b---testing.html#cb941-1" aria-hidden="true" tabindex="-1"></a>promo_1 <span class="ot">&lt;-</span> class_results <span class="sc">%&gt;%</span> </span>
<span id="cb941-2"><a href="a-b---testing.html#cb941-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb941-3"><a href="a-b---testing.html#cb941-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">MonthlyCharges =</span> telco_test<span class="sc">$</span>MonthlyCharges,</span>
<span id="cb941-4"><a href="a-b---testing.html#cb941-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Expected_Loss =</span> .pred_Yes <span class="sc">*</span> MonthlyCharges) <span class="sc">%&gt;%</span> </span>
<span id="cb941-5"><a href="a-b---testing.html#cb941-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Expected_Loss)) <span class="sc">%&gt;%</span> </span>
<span id="cb941-6"><a href="a-b---testing.html#cb941-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Budget =</span> <span class="fu">cumsum</span>(MonthlyCharges)) <span class="sc">%&gt;%</span> </span>
<span id="cb941-7"><a href="a-b---testing.html#cb941-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Budget <span class="sc">&lt;=</span> <span class="dv">50000</span>)</span>
<span id="cb941-8"><a href="a-b---testing.html#cb941-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb941-9"><a href="a-b---testing.html#cb941-9" aria-hidden="true" tabindex="-1"></a>promo_1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Churn, <span class="sc">-</span>.pred_No)</span></code></pre></div>
<pre><code>## # A tibble: 565 × 5
##    customerID .pred_Yes MonthlyCharges Expected_Loss Budget
##    &lt;chr&gt;          &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;
##  1 1400-MMYXY     0.860          106.           91.1   106.
##  2 5419-CONWX     0.854           99.8          85.2   206.
##  3 2754-SDJRD     0.818          100.           81.9   306.
##  4 6210-KBBPI     0.815           99.4          81.1   405.
##  5 9300-AGZNL     0.830           94            78.0   499.
##  6 2656-TABEH     0.764          100.           76.6   600.
##  7 3178-FESZO     0.764          100.           76.5   700.
##  8 5419-JPRRN     0.754          101.           76.5   801.
##  9 0880-TKATG     0.756          101.           76.5   902.
## 10 7181-BQYBV     0.742          102.           76.0  1005.
## # … with 555 more rows</code></pre>
<p>Sin acabarse el presupuesto de $50,000 dólares, el número de clientes a quienes es posible ofrecer la promoción es de 587/2113, lo que representa cerca del 28% de los clientes.</p>
<div class="sourceCode" id="cb943"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb943-1"><a href="a-b---testing.html#cb943-1" aria-hidden="true" tabindex="-1"></a>promo_1 <span class="sc">%&gt;%</span></span>
<span id="cb943-2"><a href="a-b---testing.html#cb943-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb943-3"><a href="a-b---testing.html#cb943-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_prob =</span> <span class="fu">min</span>(.pred_Yes),</span>
<span id="cb943-4"><a href="a-b---testing.html#cb943-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_monthly_charge =</span> <span class="fu">mean</span>(MonthlyCharges),</span>
<span id="cb943-5"><a href="a-b---testing.html#cb943-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_monthly_charge =</span> <span class="fu">sum</span>(MonthlyCharges),</span>
<span id="cb943-6"><a href="a-b---testing.html#cb943-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_yearly_charge =</span> <span class="fu">sum</span>(MonthlyCharges)<span class="sc">*</span><span class="dv">11</span></span>
<span id="cb943-7"><a href="a-b---testing.html#cb943-7" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## # A tibble: 1 × 4
##   min_prob mean_monthly_charge sum_monthly_charge sum_yearly_charge
##      &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;
## 1    0.247                88.4             49973.           549704.</code></pre>
<p>Al calcular el valor mínimo de probabilidad de cancelar el servicio, se observa que <strong>el umbral se encuentra cercano a 0.20</strong>, por lo que este es un buen candidato a usar en futuros meses si se usa este método y se cuenta con tal presupuesto.</p>
<p>El gasto mensual promedio de los clientes es de $85 dólares. El costo total para la empresa es de $49,959.75 y el beneficio de invertir esta cantidad es de $549,557 dólares en un año. Este beneficio es el máximo a obtener si todos los clientes aceptaran renovar su suscripción. Será necesario realizar un experimento para comparar el beneficio neto cuando se implementa esta táctica de marketing u alguna otra estrategia.</p>
<p><strong>Costo de promoción de producto</strong></p>
<p>El segundo método es más sencillo de calcular, pues supone un costo constante para cualquier cliente. Al regalar un producto en donde la empresa paga $100 dólares por celular, se logra ofrecer <span class="math inline">\(50000/100 = 500\)</span> productos.</p>
<div class="sourceCode" id="cb945"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb945-1"><a href="a-b---testing.html#cb945-1" aria-hidden="true" tabindex="-1"></a>promo_2 <span class="ot">&lt;-</span> class_results <span class="sc">%&gt;%</span> </span>
<span id="cb945-2"><a href="a-b---testing.html#cb945-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb945-3"><a href="a-b---testing.html#cb945-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">MonthlyCharges =</span> telco_test<span class="sc">$</span>MonthlyCharges,</span>
<span id="cb945-4"><a href="a-b---testing.html#cb945-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profit =</span> <span class="dv">100</span>,</span>
<span id="cb945-5"><a href="a-b---testing.html#cb945-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Expected_Loss =</span> .pred_Yes <span class="sc">*</span> MonthlyCharges) <span class="sc">%&gt;%</span> </span>
<span id="cb945-6"><a href="a-b---testing.html#cb945-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Expected_Loss)) <span class="sc">%&gt;%</span> </span>
<span id="cb945-7"><a href="a-b---testing.html#cb945-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Budget =</span> <span class="fu">cumsum</span>(Profit)) <span class="sc">%&gt;%</span> </span>
<span id="cb945-8"><a href="a-b---testing.html#cb945-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Budget <span class="sc">&lt;=</span> <span class="dv">50000</span>)</span>
<span id="cb945-9"><a href="a-b---testing.html#cb945-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb945-10"><a href="a-b---testing.html#cb945-10" aria-hidden="true" tabindex="-1"></a>promo_2 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Churn, <span class="sc">-</span>.pred_No)</span></code></pre></div>
<pre><code>## # A tibble: 500 × 6
##    customerID .pred_Yes MonthlyCharges Profit Expected_Loss Budget
##    &lt;chr&gt;          &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;
##  1 1400-MMYXY     0.860          106.     100          91.1    100
##  2 5419-CONWX     0.854           99.8    100          85.2    200
##  3 2754-SDJRD     0.818          100.     100          81.9    300
##  4 6210-KBBPI     0.815           99.4    100          81.1    400
##  5 9300-AGZNL     0.830           94      100          78.0    500
##  6 2656-TABEH     0.764          100.     100          76.6    600
##  7 3178-FESZO     0.764          100.     100          76.5    700
##  8 5419-JPRRN     0.754          101.     100          76.5    800
##  9 0880-TKATG     0.756          101.     100          76.5    900
## 10 7181-BQYBV     0.742          102.     100          76.0   1000
## # … with 490 more rows</code></pre>
<div class="sourceCode" id="cb947"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb947-1"><a href="a-b---testing.html#cb947-1" aria-hidden="true" tabindex="-1"></a>promo_2 <span class="sc">%&gt;%</span></span>
<span id="cb947-2"><a href="a-b---testing.html#cb947-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb947-3"><a href="a-b---testing.html#cb947-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_prob =</span> <span class="fu">min</span>(.pred_Yes),</span>
<span id="cb947-4"><a href="a-b---testing.html#cb947-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_monthly_charge =</span> <span class="fu">mean</span>(MonthlyCharges),</span>
<span id="cb947-5"><a href="a-b---testing.html#cb947-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_monthly_charge =</span> <span class="fu">sum</span>(MonthlyCharges),</span>
<span id="cb947-6"><a href="a-b---testing.html#cb947-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_yearly_charge =</span> <span class="fu">sum</span>(MonthlyCharges)<span class="sc">*</span><span class="dv">11</span></span>
<span id="cb947-7"><a href="a-b---testing.html#cb947-7" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## # A tibble: 1 × 4
##   min_prob mean_monthly_charge sum_monthly_charge sum_yearly_charge
##      &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;
## 1    0.290                88.5             44259.           486847.</code></pre>
<p>A diferencia del primer método, el umbral de probabilidad con esta segunda campaña es cercano a 0.30, lo que implica mayor precisión a costa de menor cobertura. Adicionalmente, el beneficio total de renovación de contrato es menor que el beneficio alcanzado por el primer método en el escenario utópico en que todos los clientes renuevan.</p>
<p>Estos cálculos sirven exclusivamente para acotar los escenarios, pues no es de esperarse que realmente todos los clientes renueven sus contratos. En las siguientes secciones se procede a realizar experimentos para evaluar cuál de las campañas tiene una mayor tasa de retención de clientes.</p>
<div class="sourceCode" id="cb949"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb949-1"><a href="a-b---testing.html#cb949-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">13582</span>)</span>
<span id="cb949-2"><a href="a-b---testing.html#cb949-2" aria-hidden="true" tabindex="-1"></a>results_promo_1 <span class="ot">&lt;-</span> promo_1 <span class="sc">%&gt;%</span> </span>
<span id="cb949-3"><a href="a-b---testing.html#cb949-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb949-4"><a href="a-b---testing.html#cb949-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb949-5"><a href="a-b---testing.html#cb949-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">result =</span> <span class="fu">rbinom</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="fl">0.40</span>),</span>
<span id="cb949-6"><a href="a-b---testing.html#cb949-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">cancell =</span> <span class="fu">if_else</span>(result <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb949-7"><a href="a-b---testing.html#cb949-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>result)</span>
<span id="cb949-8"><a href="a-b---testing.html#cb949-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb949-9"><a href="a-b---testing.html#cb949-9" aria-hidden="true" tabindex="-1"></a>results_promo_1</span></code></pre></div>
<pre><code>## # A tibble: 565 × 8
## # Rowwise: 
##    customerID .pred_No .pred_Yes Churn MonthlyCharges Expected_…¹ Budget cancell
##    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt; &lt;fct&gt;          &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  
##  1 1400-MMYXY    0.140     0.860 Yes            106.         91.1   106. No     
##  2 5419-CONWX    0.146     0.854 Yes             99.8        85.2   206. No     
##  3 2754-SDJRD    0.182     0.818 No             100.         81.9   306. No     
##  4 6210-KBBPI    0.185     0.815 Yes             99.4        81.1   405. Yes    
##  5 9300-AGZNL    0.170     0.830 Yes             94          78.0   499. No     
##  6 2656-TABEH    0.236     0.764 Yes            100.         76.6   600. No     
##  7 3178-FESZO    0.236     0.764 Yes            100.         76.5   700. No     
##  8 5419-JPRRN    0.246     0.754 Yes            101.         76.5   801. Yes    
##  9 0880-TKATG    0.244     0.756 Yes            101.         76.5   902. No     
## 10 7181-BQYBV    0.258     0.742 Yes            102.         76.0  1005. No     
## # … with 555 more rows, and abbreviated variable name ¹​Expected_Loss</code></pre>
<p>Primero, analicemos el siguiente resultado, el cual corresponde a la efectividad del método de retención por descuento de mensualidad gratis.</p>
<div class="sourceCode" id="cb951"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb951-1"><a href="a-b---testing.html#cb951-1" aria-hidden="true" tabindex="-1"></a>results_promo_1 <span class="sc">%&gt;%</span> </span>
<span id="cb951-2"><a href="a-b---testing.html#cb951-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(cancell) <span class="sc">%&gt;%</span> </span>
<span id="cb951-3"><a href="a-b---testing.html#cb951-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb951-4"><a href="a-b---testing.html#cb951-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb951-5"><a href="a-b---testing.html#cb951-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_monthly_charge =</span> <span class="fu">mean</span>(MonthlyCharges),</span>
<span id="cb951-6"><a href="a-b---testing.html#cb951-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_monthly_charge =</span> <span class="fu">sum</span>(MonthlyCharges),</span>
<span id="cb951-7"><a href="a-b---testing.html#cb951-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_yearly_charge =</span> <span class="fu">sum</span>(MonthlyCharges)<span class="sc">*</span><span class="dv">11</span></span>
<span id="cb951-8"><a href="a-b---testing.html#cb951-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb951-9"><a href="a-b---testing.html#cb951-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n), <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb951-10"><a href="a-b---testing.html#cb951-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(prop, <span class="at">.after =</span> n)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 6
##   cancell     n  prop mean_monthly_charge sum_monthly_charge sum_yearly_charge
##   &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;
## 1 No        357  0.63                88.7             31662.           348280.
## 2 Yes       208  0.37                88.0             18311.           201424.</code></pre>
<p>El contrafactual se refiere a una versión alternativa en la que la alteración (en este caso, método de retención) en la serie de sucesos conduce a un resultado distinto del que realmente ocurrió. En la siguiente tabla, aparecen los resultados del contrafactual (etiqueta original de Churn).</p>
<div class="sourceCode" id="cb953"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb953-1"><a href="a-b---testing.html#cb953-1" aria-hidden="true" tabindex="-1"></a>promo_1 <span class="sc">%&gt;%</span> </span>
<span id="cb953-2"><a href="a-b---testing.html#cb953-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Churn) <span class="sc">%&gt;%</span> </span>
<span id="cb953-3"><a href="a-b---testing.html#cb953-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb953-4"><a href="a-b---testing.html#cb953-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb953-5"><a href="a-b---testing.html#cb953-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_monthly_charge =</span> <span class="fu">mean</span>(MonthlyCharges),</span>
<span id="cb953-6"><a href="a-b---testing.html#cb953-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_monthly_charge =</span> <span class="fu">sum</span>(MonthlyCharges),</span>
<span id="cb953-7"><a href="a-b---testing.html#cb953-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_yearly_charge =</span> <span class="fu">sum</span>(MonthlyCharges)<span class="sc">*</span><span class="dv">11</span></span>
<span id="cb953-8"><a href="a-b---testing.html#cb953-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb953-9"><a href="a-b---testing.html#cb953-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n), <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb953-10"><a href="a-b---testing.html#cb953-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(prop, <span class="at">.after =</span> n)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 6
##   Churn     n  prop mean_monthly_charge sum_monthly_charge sum_yearly_charge
##   &lt;fct&gt; &lt;int&gt; &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;
## 1 Yes     320  0.57                87.6             28020.           308221.
## 2 No      245  0.43                89.6             21953            241483</code></pre>
<p>Hay que observar que se obtiene una mejora en la tasa de cancelación (Churn) cuando se aplica el método de retención basado en descuento de mensualidad.</p>
<p><span class="math display">\[\text{diferencia} =  \$328,163 - \$246,546 = \$81,617\]</span></p>
<p><strong>Esta diferencia es el verdadero beneficio de haber implementado e invertido en ciencia de datos y machine learning</strong>.</p>
<p>Por supuesto, este resultado deberá ser mayor al esfuerzo de inversión de todo el proyecto. Quizá en la primera iteración se realiza una inversión mayor, no obstante, a lo largo del tiempo deberá ser rentable para el negocio.</p>
<p>Por supuesto, este resultado es teórico, pues es imposible conocer el contrafactual de la forma en que fue presentado anteriormente debido a que una vez que se implementa un método, se vuelve imposible conocer el resultado de haber hecho otra cosa. Este mismo problema se enfrenta en una gran cantidad de estudios médicos, sociales, de diseño de imagen corporativa, etc, por lo que las mismas técnicas estadísticas serán presentadas para dar solución a esta estimación.</p>
<div class="infobox note">
<p><strong>WHAT IF…</strong></p>
<ul>
<li><p>¿Qué pasaría si la tasa de <em>churn</em> fuese mayor a la obtenida al no implementar ninguna campaña?</p></li>
<li><p>¿Cómo sabemos que estamos maximizando las ganancias a través de la elección de la mejor campaña de retención?</p></li>
</ul>
</div>
</div>
<div id="diseño-experimental" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Diseño experimental<a href="a-b---testing.html#diseño-experimental" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sería formidable lograr conocer cuál es el mejor método de retención antes de aplicar el ejercicio de retención a todos los clientes. Esto definitivamente ayudaría a maximizar ganancias y evitar tener pérdidas con alguna mala decisión.</p>
<p>A través de la experimentación es posible estimar los resultados de diferentes escenarios. Para lograrlo, se requiere de la <strong>creación de muestras representativas de la población</strong> que simulen con cierto error tolerable el resultado de cada campaña de retención. Para realizar esta práctica es importante introducirnos al tema de: <strong>muestreo</strong>.</p>
<div id="qué-es-y-para-qué-sirve-muestreo" class="section level3 hasAnchor" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> ¿Qué es y para qué sirve muestreo?<a href="a-b---testing.html#qué-es-y-para-qué-sirve-muestreo" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El muestreo es el proceso de seleccionar un conjunto de individuos de una población con el fin de estudiarlos y poder caracterizar el total de la población. Nos ayuda a obtener información fiable de la población a partir de una muestra de la que extrae inferencias estadísticas con un margen de error medido en términos de probabilidades. En otras palabras, en una investigación por muestreo podremos estudiar el comportamiento y las opiniones de toda una población analizando únicamente una parte de esta, teniendo en cuenta que siempre existirá un margen de error a la hora de realizar dichos cálculos.</p>
<p><img src="img/14-ab-testing/1-1-1-muestreo.jpg" width="450pt" height="450pt" style="display: block; margin: auto;" /></p>
<p><strong>Ventajas</strong></p>
<ul>
<li><p><strong>Reducción de costos:</strong> Los costos de un estudio serán menores si los datos de interés se pueden obtener a partir de una muestra de la población. Por ejemplo, cuando se realizan estudios de prevalencia de un evento de interés, es más económico medir una muestra representativa de 1500 sujetos de una población, que el total de individuos que la componen.</p></li>
<li><p><strong>Eficiencia:</strong> Al trabajar con un número reducido de sujetos de estudio, representativos de la población; el tiempo necesario para conducir el estudio y obtener resultados y conclusiones será notoriamente menor.</p></li>
</ul>
<p>Una muestra puede ser obtenida de diferentes maneras:</p>
<ul>
<li>No probabilística.
<ul>
<li>Por cuotas</li>
<li>Conveniencia</li>
<li>Bola de nieve</li>
<li>Discrecional</li>
</ul></li>
<li>Probabilística
<ul>
<li>Aleatorio Simple</li>
<li>Sistemático</li>
<li>Estratificado</li>
<li>Conglomerados</li>
<li>Polietápico</li>
<li>Etc.</li>
</ul></li>
</ul>
<p>El temario de muestreo es largo, por lo que nuestro enfoque se centrará en el muestreo probabilístico aleatorio simple y el estratificado.</p>
<p>El muestreo probabilístico se define como aquél en que todos los individuos de la población tienen una probabilidad de entrar a formar parte de la muestra. Los diseños en que interviene el azar producen muestras representativas la mayoría de las veces.</p>
</div>
<div id="muestreo-estratificado" class="section level3 hasAnchor" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Muestreo estratificado<a href="a-b---testing.html#muestreo-estratificado" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En este tipo de muestreo <strong>la población de estudio se divide en subgrupos o estratos</strong>, escogiendo posteriormente una muestra al azar de cada estrato. Esta división suele realizarse según una característica que pueda influir sobre los resultados del estudio.</p>
<p>Si la estratificación se realiza respecto una característica se denomina <em>muestreo estratificado simple</em>, y si se realiza respecto a dos o más características se denomina <em>muestreo estratificado compuesto</em>.</p>
<p>Ejemplo: Si existen 5 millones de hipertensos en una población y hay un <span class="math inline">\(35\%\)</span> de pacientes que fuman, podemos estratificar de manera que en nuestra muestra queden representados al igual que en el total de la población, la misma proporción de hipertensos fumadores (<span class="math inline">\(35\%\)</span>) y de no fumadores (<span class="math inline">\(65\%\)</span>).</p>
<p><img src="img/14-ab-testing/1-1-4-tipos-de-muestreo-probabilistico-estratificado.jpg" width="350pt" height="350pt" style="display: block; margin: auto;" /></p>
</div>
<div id="marco-de-muestreo" class="section level3 hasAnchor" number="14.3.3">
<h3><span class="header-section-number">14.3.3</span> Marco de muestreo<a href="a-b---testing.html#marco-de-muestreo" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El primer paso consiste en crear un <strong>marco de muestreo</strong>, el cual es el <strong>listado de los posibles elementos a ser seleccionados en la muestra.</strong> Tiene la característica de que todos los elementos deben pertenecer a la población objetivo. Este marco de muestreo podría llegar a tener los siguientes 3 errores:</p>
<ul>
<li><p><strong>Duplicidad:</strong> Existen elementos repetidos</p></li>
<li><p><strong>Sobre-representatividad:</strong> Existen elementos en el marco que no pertenecen a la población objetivo</p></li>
<li><p><strong>Sub-representatividad:</strong> Existen elementos pertenecientes a la población objetivo que no se encuentran representados en el marco</p></li>
</ul>
<p>Ante estos problemas, es necesario realizar una limpieza de los datos disponibles para obtener un conjunto lo más adecuado para extraer estos problemas.</p>
</div>
<div id="tamaño-de-muestra" class="section level3 hasAnchor" number="14.3.4">
<h3><span class="header-section-number">14.3.4</span> Tamaño de muestra<a href="a-b---testing.html#tamaño-de-muestra" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Es imprescindible en una buena estimación conocer el tamaño de muestra adecuado que permitirá controlar o cuantificar el error de muestreo.</p>
<p>Se presenta a continuación la fórmula estadística que permite conocer el tamaño de muestra necesario para lograr con 95% de confianza (<span class="math inline">\(\alpha\)</span>) un error de muestreo (e). Esta fórmula corresponde se calcula a partir de un diseño de muestreo aleatorio simple, donde la variable de respuesta es dicotómica (sí o no):</p>
<p><span class="math display">\[m=\frac{p(1-p)Z_{1-\alpha/2}^2}{e²};\]</span></p>
<p><span class="math display">\[n=\frac{m}{1+\frac{m}{N}} \frac{deff}{(1-TNR)}\]</span></p>
<p><strong>Donde:</strong></p>
<p>N = Es el tamaño de población.</p>
<p>n = Tamaño de muestra.</p>
<p>p = Proporción esperada (50% por default).</p>
<p><span class="math inline">\(Z_{1-\alpha/2}\)</span> = Percentil <span class="math inline">\(\alpha/2\)</span> de la distribución Normal estándar.</p>
<p>e = Error de muestreo máximo a tolerar.</p>
<p>TNR = Tasa de no respuesta</p>
<p>deff = Efecto de diseño (aumento en la varianza por usar un diseño distinto al aleatorio simple)</p>
<p>Esta fórmula puede demostrarse a partir del siguiente planteamiento:</p>
<p><span class="math display">\[P[|\theta-\hat{\theta}| &lt; error] = Z_{1-\alpha/2}\]</span></p>
<p>Para mayor teoría de muestreo, consultar el libro: <a href="https://link.springer.com/book/9780387406206">Model Assisted Survey Sampling</a></p>
<div class="infobox pin">
<p><strong>¡¡ RECORDAR !!</strong></p>
<p>En la medida en que se desea disminuir el error de muestreo, es necesario incrementar de manera exponencial el tamaño de muestra.</p>
</div>
<p>Se presenta a continuación la función creada con <em>R</em> para conocer el tamaño de muestra de una población. Es necesario indicar los parámetros e hipótesis bajo los cuales se realizará dicho cálculo. Posteriormente, se presenta una gráfica que permite conocer el tamaño de muestra de acuerdo con el error de muestreo a tolerar (suponiendo fijos otros parámetros).</p>
<div id="implementación-en-r-4" class="section level4 hasAnchor" number="14.3.4.1">
<h4><span class="header-section-number">14.3.4.1</span> Implementación en R<a href="a-b---testing.html#implementación-en-r-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb955"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb955-1"><a href="a-b---testing.html#cb955-1" aria-hidden="true" tabindex="-1"></a>n_muestra <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">e =</span> <span class="fl">0.04</span>, <span class="at">p =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.95</span>, <span class="at">N =</span> <span class="dv">100000</span>, <span class="at">deff =</span> <span class="fl">1.5</span>, <span class="at">tnr =</span> <span class="fl">0.10</span>){</span>
<span id="cb955-2"><a href="a-b---testing.html#cb955-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb955-3"><a href="a-b---testing.html#cb955-3" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">=</span> p<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>p)<span class="sc">*</span>(<span class="fu">qnorm</span>(<span class="dv">1</span><span class="sc">-</span> (<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">/</span><span class="dv">2</span>)<span class="sc">/</span>e)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb955-4"><a href="a-b---testing.html#cb955-4" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">=</span> <span class="fu">ceiling</span>( (m<span class="sc">/</span>(<span class="dv">1</span> <span class="sc">+</span> m<span class="sc">/</span>N)) <span class="sc">*</span> deff<span class="sc">/</span>(<span class="dv">1</span> <span class="sc">-</span> tnr ) ) </span>
<span id="cb955-5"><a href="a-b---testing.html#cb955-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb955-6"><a href="a-b---testing.html#cb955-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(n)</span>
<span id="cb955-7"><a href="a-b---testing.html#cb955-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Ejemplo</strong></p>
<p>Suponiendo un tamaño poblacional de 4.5 millones de personas, y con 95% de confianza un error máximo a tolerar de 3.5%, el tamaño de muestra necesario para estimar una proporción es:</p>
<div class="sourceCode" id="cb956"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb956-1"><a href="a-b---testing.html#cb956-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_muestra</span>(<span class="at">e =</span> <span class="fl">0.035</span>, <span class="at">p =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.95</span>, <span class="at">N =</span> <span class="dv">4500000</span>, <span class="at">deff =</span> <span class="dv">1</span>, <span class="at">tnr =</span> <span class="fl">0.20</span>)</span></code></pre></div>
<pre><code>## [1] 980</code></pre>
<p>En este ejemplo, por practicidad se redondea el tamaño de la muestra a 1,00 unidades. Veamos otro ejemplo:</p>
<div class="sourceCode" id="cb958"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb958-1"><a href="a-b---testing.html#cb958-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_muestra</span>(<span class="at">e =</span> <span class="fl">0.04</span>, <span class="at">p =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.95</span>, <span class="at">N =</span> <span class="dv">900</span>, <span class="at">deff =</span> <span class="dv">1</span>, <span class="at">tnr =</span> <span class="fl">0.20</span>)</span></code></pre></div>
<pre><code>## [1] 451</code></pre>
<p>En este segundo caso, se redondea a 450 casos. Veamos ahora una gráfica que permita analizar la relación existente entre el tamaño de muestra y el error de muestreo.</p>
<p><img src="amt22_aserta_intro2dsml_files/figure-html/unnamed-chunk-679-1.png" width="672" /></p>
<p>Ahora analizaremos la relación existente entre el tamaño de muestra y el tamaño poblacional cuando fijamos el error de muestreo en 3.5%.</p>
<p><img src="amt22_aserta_intro2dsml_files/figure-html/unnamed-chunk-680-1.png" width="672" /></p>
<p>Se puede apreciar que a mayor tamaño de población es necesario una muestra más grande, sin embargo, no es un comportamiento lineal. Debido a que una de las condiciones de muestreo es que la selección es aleatoria, existe un punto de saturación de información, en donde no se necesita aumentar más el tamaño de muestra (aunque el tamaño de la población siga creciendo)</p>
<div class="infobox important">
<p><strong>¡¡ RECORDAR !!</strong></p>
<p>Para lograr estimaciones representativas de ALTA calidad sobre la población, es indispensable realizar un buen diseño de muestreo, de lo contrario los resultados pueden estar sesgados.</p>
</div>
<div class="infobox note">
<p><strong>EJERCICIO</strong></p>
<p>Realizar el cálculo del tamaño de muestra necesario para los siguientes escenarios:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Muestra representativa de alumnos de esta clase</p></li>
<li><p>Muestra de clientes probables a cancelar su servicio de telecomunicaciones con los datos vistos en clase (Test)</p></li>
</ol>
</div>
</div>
</div>
<div id="distribución-muestral" class="section level3 hasAnchor" number="14.3.5">
<h3><span class="header-section-number">14.3.5</span> Distribución muestral<a href="a-b---testing.html#distribución-muestral" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Una vez que el tamaño de muestra ha sido calculado, es común que se proceda a distribuirla de una manera estratégica que permita recolectar de manera óptima la información necesaria. Existe distintos tipos de distribución (afijación), las cuales dependen de que existan estratos (grupos) de la población sobre los cuales se desea distribuir la muestra. Entre las más comunes, se encuentran:</p>
<ol style="list-style-type: decimal">
<li><strong>Afijación simple:</strong> En este tipo de afijación, la muestra se distribuye de manera igualitaria entre los distintos grupos. La fórmula es la siguiente:</li>
</ol>
<p><span class="math display">\[n_h=\frac{n}{L}\]</span>
<strong>Donde:</strong></p>
<p><span class="math inline">\(n_h=\)</span> Es el tamaño de muestra en el h-ésimo estrato</p>
<p><span class="math inline">\(n=\)</span> Es el tamaño de muestra total</p>
<p><span class="math inline">\(L=\)</span> Es el número de estratos</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Afijación proporcional:</strong> Posiblemente es el tipo de afijación más usado. Esta estrategia se usa para distribuir la muestra de manera proporcional a una característica. Por regla general, se distribuye de acuerdo con la distribución poblacional (viviendas o personas) en zonas geográficas. La fórmula es la siguiente:</li>
</ol>
<p><span class="math display">\[n_h = \frac{P_h}{P} \cdot n\]</span></p>
<p><strong>Donde:</strong></p>
<ul>
<li><p><span class="math inline">\(n_h=\)</span> Es el tamaño de muestra ajustado en el h-ésimo estrato</p></li>
<li><p><span class="math inline">\(n=\)</span> Es el tamaño de muestra global</p></li>
<li><p><span class="math inline">\(P_h=\)</span> Es la población en el h-ésimo estrato</p></li>
<li><p><span class="math inline">\(P=\)</span> Es la población total</p></li>
</ul>
<div id="implementación-en-r-5" class="section level4 hasAnchor" number="14.3.5.1">
<h4><span class="header-section-number">14.3.5.1</span> Implementación en R<a href="a-b---testing.html#implementación-en-r-5" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Suponga por un momento que contamos con una característica particular de interés en la que podemos clasificar a la población de clientes, puede ser el sexo, la edad, ingresos o alguna otra clasificación de interés (producto de contratación).</p>
<div class="sourceCode" id="cb960"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb960-1"><a href="a-b---testing.html#cb960-1" aria-hidden="true" tabindex="-1"></a>marco <span class="ot">&lt;-</span> telco_test <span class="sc">%&gt;%</span> </span>
<span id="cb960-2"><a href="a-b---testing.html#cb960-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(customerID, gender, Contract) <span class="sc">%&gt;%</span> </span>
<span id="cb960-3"><a href="a-b---testing.html#cb960-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb960-4"><a href="a-b---testing.html#cb960-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cod_gender =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(gender)),</span>
<span id="cb960-5"><a href="a-b---testing.html#cb960-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cod_contract =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(Contract)),</span>
<span id="cb960-6"><a href="a-b---testing.html#cb960-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb960-7"><a href="a-b---testing.html#cb960-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(estrato, <span class="fu">starts_with</span>(<span class="st">&quot;cod_&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb960-8"><a href="a-b---testing.html#cb960-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb960-9"><a href="a-b---testing.html#cb960-9" aria-hidden="true" tabindex="-1"></a>    class_results <span class="sc">%&gt;%</span> <span class="fu">select</span>(customerID, .pred_Yes)</span>
<span id="cb960-10"><a href="a-b---testing.html#cb960-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb960-11"><a href="a-b---testing.html#cb960-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.pred_Yes <span class="sc">&gt;=</span> <span class="fl">0.20</span>)</span>
<span id="cb960-12"><a href="a-b---testing.html#cb960-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb960-13"><a href="a-b---testing.html#cb960-13" aria-hidden="true" tabindex="-1"></a>marco</span></code></pre></div>
<pre><code>## # A tibble: 1,046 × 5
##    customerID gender Contract       estrato .pred_Yes
##    &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;          &lt;chr&gt;       &lt;dbl&gt;
##  1 9305-CDSKC Female Month-to-month 1-1         0.721
##  2 6713-OKOMC Female Month-to-month 1-1         0.277
##  3 4183-MYFRB Female Month-to-month 1-1         0.481
##  4 8665-UTDHZ Male   Month-to-month 2-1         0.348
##  5 6047-YHPVI Male   Month-to-month 2-1         0.508
##  6 4080-IIARD Female Month-to-month 1-1         0.377
##  7 3714-NTNFO Female Month-to-month 1-1         0.292
##  8 1658-BYGOY Male   Month-to-month 2-1         0.604
##  9 7410-OIEDU Male   Month-to-month 2-1         0.505
## 10 2273-QCKXA Male   Month-to-month 2-1         0.488
## # … with 1,036 more rows</code></pre>
<div class="sourceCode" id="cb962"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb962-1"><a href="a-b---testing.html#cb962-1" aria-hidden="true" tabindex="-1"></a>marco <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb962-2"><a href="a-b---testing.html#cb962-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(estrato) <span class="sc">%&gt;%</span> </span>
<span id="cb962-3"><a href="a-b---testing.html#cb962-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID_unit =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(marco))</span>
<span id="cb962-4"><a href="a-b---testing.html#cb962-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb962-5"><a href="a-b---testing.html#cb962-5" aria-hidden="true" tabindex="-1"></a>pob_estrato <span class="ot">&lt;-</span> marco <span class="sc">%&gt;%</span> </span>
<span id="cb962-6"><a href="a-b---testing.html#cb962-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender, Contract, estrato) <span class="sc">%&gt;%</span> </span>
<span id="cb962-7"><a href="a-b---testing.html#cb962-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb962-8"><a href="a-b---testing.html#cb962-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb962-9"><a href="a-b---testing.html#cb962-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_prob =</span> <span class="fu">mean</span>(.pred_Yes, <span class="at">na.rm =</span> T),</span>
<span id="cb962-10"><a href="a-b---testing.html#cb962-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb962-11"><a href="a-b---testing.html#cb962-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb962-12"><a href="a-b---testing.html#cb962-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_prob))</span>
<span id="cb962-13"><a href="a-b---testing.html#cb962-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb962-14"><a href="a-b---testing.html#cb962-14" aria-hidden="true" tabindex="-1"></a>pob_estrato</span></code></pre></div>
<pre><code>## # A tibble: 4 × 5
##   gender Contract       estrato     n mean_prob
##   &lt;chr&gt;  &lt;chr&gt;          &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;
## 1 Male   Month-to-month 2-1       498     0.481
## 2 Female Month-to-month 1-1       468     0.481
## 3 Female One year       1-2        45     0.246
## 4 Male   One year       2-2        35     0.238</code></pre>
<p>Suponiendo que el tamaño de muestra seleccionado es de 450 individuos y se desea hacer una afijación proporcional, el tamaño de muestra en cada estrato queda asignado de la siguiente forma:</p>
<div class="sourceCode" id="cb964"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb964-1"><a href="a-b---testing.html#cb964-1" aria-hidden="true" tabindex="-1"></a>distribucion <span class="ot">&lt;-</span> pob_estrato <span class="sc">%&gt;%</span> </span>
<span id="cb964-2"><a href="a-b---testing.html#cb964-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb964-3"><a href="a-b---testing.html#cb964-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop =</span> n<span class="sc">/</span><span class="fu">sum</span>(n),</span>
<span id="cb964-4"><a href="a-b---testing.html#cb964-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_h =</span> <span class="fu">round</span>(prop <span class="sc">*</span> <span class="dv">450</span>)</span>
<span id="cb964-5"><a href="a-b---testing.html#cb964-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb964-6"><a href="a-b---testing.html#cb964-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(estrato)</span>
<span id="cb964-7"><a href="a-b---testing.html#cb964-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb964-8"><a href="a-b---testing.html#cb964-8" aria-hidden="true" tabindex="-1"></a>distribucion</span></code></pre></div>
<pre><code>## # A tibble: 4 × 7
##   gender Contract       estrato     n mean_prob   prop   n_h
##   &lt;chr&gt;  &lt;chr&gt;          &lt;chr&gt;   &lt;int&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 Female Month-to-month 1-1       468     0.481 0.447    201
## 2 Female One year       1-2        45     0.246 0.0430    19
## 3 Male   Month-to-month 2-1       498     0.481 0.476    214
## 4 Male   One year       2-2        35     0.238 0.0335    15</code></pre>
<p><strong>De esta forma, el tamaño final de la muestra será de 449 unidades, repartidos en cada estrato como se muestra anteriormente.</strong></p>
</div>
</div>
<div id="probabilidades-y-factores" class="section level3 hasAnchor" number="14.3.6">
<h3><span class="header-section-number">14.3.6</span> Probabilidades y Factores<a href="a-b---testing.html#probabilidades-y-factores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Dependiendo del diseño de muestreo implementado, a cada unidad se le deberá asignar una probabilidad de ser incluida en la muestra. Entre las más comunes se encuentran:</p>
<p><strong>Probabilidades</strong></p>
<ul>
<li>Muestreo Aleatorio Simple sin reemplazo: Ocurre cuando <strong>NO</strong> se realiza reemplazo de la muestra y un elemento es seleccionado una sola vez.</li>
</ul>
<p><span class="math display">\[\pi_k=\frac{n}{N}\]</span></p>
<p>En el caso del muestreo estratificado, el muestreo se realiza de manera aleatoria simple dentro de cada estrato, por lo que la probabilidad interna a un estrato debe ser la misma.</p>
<p><strong>Factor de expansión</strong></p>
<p>El factor de expansión se refiere al número de individuos fuera de la muestra que son representados por cada uno de los individuos incluidos dentro de la muestra, Este factor es calculado para cada elemento muestral. Matemáticamente, este cálculo se realiza a través del inverso de probabilidad de selección:</p>
<p><span class="math display">\[F_k=\frac{1}{\pi_k}\]</span></p>
<p>En <em>R</em> realizaremos automáticamente el cálculo de la probabilidad de inclusión y posteriormente invertiremos esta probabilidad para extraer el factor de expansión.</p>
</div>
</div>
<div id="extracción-de-muestra" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Extracción de muestra<a href="a-b---testing.html#extracción-de-muestra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Una vez definido el diseño de muestreo y tamaño de muestra, procedemos a extraer nuestra muestra de acuerdo con el diseño determinado. En esta sección probaremos 2 formas de extraer la muestra final.</p>
<div id="muestreo-estratificado-1" class="section level3 hasAnchor" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Muestreo estratificado<a href="a-b---testing.html#muestreo-estratificado-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Este tipo de muestreo implica la creación previa de estratos y sus respectivas distribución por algunos de los métodos antes estudiados. Es importante mencionar que las funciones usadas para este tipo de muestreo implican que las unidades muestrales se encuentran ordenadas por estrato de modo que todos los elementos pertenecientes a un mismo estrato se encuentran juntos.</p>
<div class="sourceCode" id="cb966"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb966-1"><a href="a-b---testing.html#cb966-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">13258</span>)</span>
<span id="cb966-2"><a href="a-b---testing.html#cb966-2" aria-hidden="true" tabindex="-1"></a>muestra_estratificada_1 <span class="ot">&lt;-</span> <span class="fu">strata</span>(</span>
<span id="cb966-3"><a href="a-b---testing.html#cb966-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> marco, </span>
<span id="cb966-4"><a href="a-b---testing.html#cb966-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stratanames =</span> <span class="st">&quot;estrato&quot;</span>,</span>
<span id="cb966-5"><a href="a-b---testing.html#cb966-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> distribucion<span class="sc">$</span>n_h,</span>
<span id="cb966-6"><a href="a-b---testing.html#cb966-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">&quot;srswor&quot;</span>, </span>
<span id="cb966-7"><a href="a-b---testing.html#cb966-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="cn">TRUE</span></span>
<span id="cb966-8"><a href="a-b---testing.html#cb966-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Stratum 1 
## 
## Population total and number of selected units: 468 201 
## Stratum 2 
## 
## Population total and number of selected units: 45 19 
## Stratum 3 
## 
## Population total and number of selected units: 498 214 
## Stratum 4 
## 
## Population total and number of selected units: 35 15 
## Number of strata  4 
## Total number of selected units 449</code></pre>
<div class="sourceCode" id="cb968"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb968-1"><a href="a-b---testing.html#cb968-1" aria-hidden="true" tabindex="-1"></a>muestra_estratificada_1 <span class="ot">&lt;-</span> marco <span class="sc">%&gt;%</span> </span>
<span id="cb968-2"><a href="a-b---testing.html#cb968-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ID_unit <span class="sc">%in%</span> muestra_estratificada_1<span class="sc">$</span>ID_unit) <span class="sc">%&gt;%</span> </span>
<span id="cb968-3"><a href="a-b---testing.html#cb968-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(muestra_estratificada_1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;ID_unit&quot;</span>, <span class="st">&quot;estrato&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb968-4"><a href="a-b---testing.html#cb968-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">factor =</span> <span class="dv">1</span><span class="sc">/</span>Prob)</span>
<span id="cb968-5"><a href="a-b---testing.html#cb968-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb968-6"><a href="a-b---testing.html#cb968-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(muestra_estratificada_1)</span></code></pre></div>
<pre><code>## Rows: 449
## Columns: 9
## $ customerID &lt;chr&gt; &quot;4080-IIARD&quot;, &quot;8108-UXRQN&quot;, &quot;4846-WHAFZ&quot;, &quot;4412-YLTKF&quot;, &quot;40…
## $ gender     &lt;chr&gt; &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;,…
## $ Contract   &lt;chr&gt; &quot;Month-to-month&quot;, &quot;Month-to-month&quot;, &quot;Month-to-month&quot;, &quot;Mont…
## $ estrato    &lt;chr&gt; &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-…
## $ .pred_Yes  &lt;dbl&gt; 0.3771216, 0.2912334, 0.3978843, 0.4042027, 0.4086263, 0.31…
## $ ID_unit    &lt;int&gt; 4, 7, 10, 11, 12, 13, 14, 17, 18, 22, 26, 27, 29, 30, 32, 3…
## $ Prob       &lt;dbl&gt; 0.4294872, 0.4294872, 0.4294872, 0.4294872, 0.4294872, 0.42…
## $ Stratum    &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ factor     &lt;dbl&gt; 2.328358, 2.328358, 2.328358, 2.328358, 2.328358, 2.328358,…</code></pre>
<p><strong>Finalmente…</strong> para extraer estos resultados en un archivo manipulable por nosotros u otras personas, hacemos uso de la función <em>write.csv()</em>, la cual nos permitirá almacenar nuestra muestra en formato de excel con extensión .csv:</p>
<div class="sourceCode" id="cb970"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb970-1"><a href="a-b---testing.html#cb970-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(muestra_estratificada_1, <span class="st">&quot;data/muestra_estratificada_1.csv&quot;</span>, <span class="at">row.names =</span> F)</span></code></pre></div>
<p>Para diseñar la muestra de otro método de marketing para incentivar la re-contratación de servicios se realiza otra extracción independiente de datos</p>
<div class="sourceCode" id="cb971"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb971-1"><a href="a-b---testing.html#cb971-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">579315</span>)</span>
<span id="cb971-2"><a href="a-b---testing.html#cb971-2" aria-hidden="true" tabindex="-1"></a>muestra_estratificada_2 <span class="ot">&lt;-</span> <span class="fu">strata</span>(</span>
<span id="cb971-3"><a href="a-b---testing.html#cb971-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> marco <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>ID_unit <span class="sc">%in%</span> muestra_estratificada_1<span class="sc">$</span>ID_unit), </span>
<span id="cb971-4"><a href="a-b---testing.html#cb971-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stratanames =</span> <span class="st">&quot;estrato&quot;</span>,</span>
<span id="cb971-5"><a href="a-b---testing.html#cb971-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> distribucion<span class="sc">$</span>n_h,</span>
<span id="cb971-6"><a href="a-b---testing.html#cb971-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">&quot;srswor&quot;</span>, </span>
<span id="cb971-7"><a href="a-b---testing.html#cb971-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="cn">TRUE</span></span>
<span id="cb971-8"><a href="a-b---testing.html#cb971-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Stratum 1 
## 
## Population total and number of selected units: 267 201 
## Stratum 2 
## 
## Population total and number of selected units: 26 19 
## Stratum 3 
## 
## Population total and number of selected units: 284 214 
## Stratum 4 
## 
## Population total and number of selected units: 20 15 
## Number of strata  4 
## Total number of selected units 449</code></pre>
<div class="sourceCode" id="cb973"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb973-1"><a href="a-b---testing.html#cb973-1" aria-hidden="true" tabindex="-1"></a>muestra_estratificada_2 <span class="ot">&lt;-</span> marco <span class="sc">%&gt;%</span> </span>
<span id="cb973-2"><a href="a-b---testing.html#cb973-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ID_unit <span class="sc">%in%</span> muestra_estratificada_2<span class="sc">$</span>ID_unit) <span class="sc">%&gt;%</span> </span>
<span id="cb973-3"><a href="a-b---testing.html#cb973-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(muestra_estratificada_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;ID_unit&quot;</span>, <span class="st">&quot;estrato&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb973-4"><a href="a-b---testing.html#cb973-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(muestra_estratificada_1 <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(estrato, factor), <span class="at">by =</span> <span class="st">&quot;estrato&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb973-5"><a href="a-b---testing.html#cb973-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Prob =</span> <span class="dv">1</span><span class="sc">/</span>factor)</span>
<span id="cb973-6"><a href="a-b---testing.html#cb973-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb973-7"><a href="a-b---testing.html#cb973-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(muestra_estratificada_2)</span></code></pre></div>
<pre><code>## Rows: 449
## Columns: 9
## $ customerID &lt;chr&gt; &quot;9305-CDSKC&quot;, &quot;6713-OKOMC&quot;, &quot;4183-MYFRB&quot;, &quot;4080-IIARD&quot;, &quot;59…
## $ gender     &lt;chr&gt; &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;, &quot;Female&quot;,…
## $ Contract   &lt;chr&gt; &quot;Month-to-month&quot;, &quot;Month-to-month&quot;, &quot;Month-to-month&quot;, &quot;Mont…
## $ estrato    &lt;chr&gt; &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-1&quot;, &quot;1-…
## $ .pred_Yes  &lt;dbl&gt; 0.7214355, 0.2766141, 0.4807612, 0.3771216, 0.8756702, 0.29…
## $ ID_unit    &lt;int&gt; 1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 21, 23, 25,…
## $ Prob       &lt;dbl&gt; 0.4294872, 0.4294872, 0.4294872, 0.4294872, 0.4294872, 0.42…
## $ Stratum    &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ factor     &lt;dbl&gt; 2.328358, 2.328358, 2.328358, 2.328358, 2.328358, 2.328358,…</code></pre>
<div class="sourceCode" id="cb975"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb975-1"><a href="a-b---testing.html#cb975-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(muestra_estratificada_2, <span class="st">&quot;data/muestra_estratificada_2.csv&quot;</span>, <span class="at">row.names =</span> F)</span></code></pre></div>
<p>Estos dos conjuntos muestrales son compartidos con el área de marketing para que a cada uno de ellos les ofrezcan de manera independiente una promoción de retención. <strong>Posteriormente, podremos realizar pruebas de hipótesis para muestras independientes</strong> o implementar alguna otra metodología estadística.</p>
</div>
</div>
<div id="estimación-muestral" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Estimación muestral<a href="a-b---testing.html#estimación-muestral" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Es posible que al realizar la captura de forma manual, existan diversos errores, entre los cuales destacan:</p>
<ul>
<li><p>Errores de dedo</p></li>
<li><p>Faltas de ortografía</p></li>
<li><p>Ilegibilidad de respuestas</p></li>
<li><p>Inconsistencias en las respuestas</p></li>
</ul>
<p>Es posible disminuir estos errores cuando el levantamiento se realiza a través de un sistema en donde el capturista elija la opción de respuesta y no se preste a errores.</p>
<div id="implementación-de-diseño-muestral" class="section level3 hasAnchor" number="14.5.1">
<h3><span class="header-section-number">14.5.1</span> Implementación de diseño muestral<a href="a-b---testing.html#implementación-de-diseño-muestral" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Habiendo recibido los resultados, es importante crear el diseño de muestreo en <em>R</em> que permite iniciar el análisis de resultados de acuerdo con la ponderación que cada unidad de muestreo obtuvo en el diseño muestral.</p>
<div class="sourceCode" id="cb976"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb976-1"><a href="a-b---testing.html#cb976-1" aria-hidden="true" tabindex="-1"></a>resultados_promocion_1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/muestra_estratificada_1.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb976-2"><a href="a-b---testing.html#cb976-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(., <span class="at">Churn =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>), <span class="at">size =</span> <span class="fu">nrow</span>(.), <span class="at">replace =</span> T, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.35</span>, <span class="fl">0.65</span>)),</span>
<span id="cb976-3"><a href="a-b---testing.html#cb976-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">promotion =</span> <span class="st">&quot;descount&quot;</span>)</span>
<span id="cb976-4"><a href="a-b---testing.html#cb976-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb976-5"><a href="a-b---testing.html#cb976-5" aria-hidden="true" tabindex="-1"></a>resultados_promocion_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/muestra_estratificada_2.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb976-6"><a href="a-b---testing.html#cb976-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(., <span class="at">Churn =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>), <span class="at">size =</span> <span class="fu">nrow</span>(.), <span class="at">replace =</span> T, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.85</span>)),</span>
<span id="cb976-7"><a href="a-b---testing.html#cb976-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">promotion =</span> <span class="st">&quot;cell phone&quot;</span>)</span>
<span id="cb976-8"><a href="a-b---testing.html#cb976-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb976-9"><a href="a-b---testing.html#cb976-9" aria-hidden="true" tabindex="-1"></a>resultados_promocion <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(resultados_promocion_1, resultados_promocion_2)</span></code></pre></div>
<p>Lo primero, es indicar el diseño muestral usado. En <em>R</em>, existe una librería de nombre <em>srvyr</em> que facilita los análisis de resultados muestrales:</p>
<div class="sourceCode" id="cb977"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb977-1"><a href="a-b---testing.html#cb977-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(srvyr)</span>
<span id="cb977-2"><a href="a-b---testing.html#cb977-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb977-3"><a href="a-b---testing.html#cb977-3" aria-hidden="true" tabindex="-1"></a>design <span class="ot">&lt;-</span> resultados_promocion <span class="sc">%&gt;%</span> </span>
<span id="cb977-4"><a href="a-b---testing.html#cb977-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb977-5"><a href="a-b---testing.html#cb977-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ids =</span> customerID,</span>
<span id="cb977-6"><a href="a-b---testing.html#cb977-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> factor,</span>
<span id="cb977-7"><a href="a-b---testing.html#cb977-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">strata =</span> estrato,</span>
<span id="cb977-8"><a href="a-b---testing.html#cb977-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pps =</span> <span class="st">&quot;brewer&quot;</span>,</span>
<span id="cb977-9"><a href="a-b---testing.html#cb977-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">variance =</span> <span class="st">&quot;HT&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb977-10"><a href="a-b---testing.html#cb977-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb977-11"><a href="a-b---testing.html#cb977-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;bootstrap&quot;</span>,</span>
<span id="cb977-12"><a href="a-b---testing.html#cb977-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">replicates =</span> <span class="dv">1000</span></span>
<span id="cb977-13"><a href="a-b---testing.html#cb977-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb977-14"><a href="a-b---testing.html#cb977-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb977-15"><a href="a-b---testing.html#cb977-15" aria-hidden="true" tabindex="-1"></a>design</span></code></pre></div>
<pre><code>## Call: Called via srvyr
## Survey bootstrap with 1000 replicates.
## Data variables: customerID (chr), gender (chr), Contract (chr), estrato (chr),
##   .pred_Yes (dbl), ID_unit (dbl), Prob (dbl), Stratum (dbl), factor (dbl),
##   Churn (chr), promotion (chr)</code></pre>
</div>
<div id="estimación-de-resultados" class="section level3 hasAnchor" number="14.5.2">
<h3><span class="header-section-number">14.5.2</span> Estimación de resultados<a href="a-b---testing.html#estimación-de-resultados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El diseño de muestreo ha sido creado. Por lo que a partir de este momento comenzaremos a hacer estimaciones estadísticas. Es importante mencionar que la técnica de estimación de resultados corresponde al estimador <a href="https://www150.statcan.gc.ca/n1/pub/12-001-x/2013001/article/11831/section2-eng.htm">Horvitz-Thompson</a>, el cual se calcula de la siguiente forma:</p>
<p><span class="math display">\[\hat{Y}=\sum_{i=1}^{n}{\frac{X_i}{\pi_i}}=\sum_{i=1}^{n}{X_i \cdot F_i}\]</span>
<strong>Donde:</strong></p>
<p><span class="math inline">\(\hat{Y}=\)</span> Es la estimación de la variable de interés</p>
<p><span class="math inline">\(X_i=\)</span> Es la variable de interés observada en la muestra</p>
<p><span class="math inline">\(\pi_i=\)</span> Es la probabilidad de selección del i-ésimo individuo en la muestra</p>
<p><span class="math inline">\(F_i=\)</span> Es el factor de expansión del i-ésimo individuo. Fue calculado como <span class="math inline">\(\frac{1}{\pi_i}\)</span></p>
<p>En el caso de proporciones o estimadores de razón, el cálculo se realiza a través de:</p>
<p><span class="math display">\[\hat{P} = \frac{\hat{Y}}{\hat{N}}; \quad \quad \hat{R} = \frac{\hat{Y}}{\hat{X}}\]</span></p>
<p>Ahora sí, procedemos a realizar estas estimaciones en <em>R</em> para conocer los resultados de interés. La variable <strong>Churn</strong> contiene la pregunta de interés: <em>¿El cliente canceló su servicio?</em> El resultado se muestra a continuación:</p>
<div class="sourceCode" id="cb979"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb979-1"><a href="a-b---testing.html#cb979-1" aria-hidden="true" tabindex="-1"></a>design <span class="sc">%&gt;%</span> </span>
<span id="cb979-2"><a href="a-b---testing.html#cb979-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Churn) <span class="sc">%&gt;%</span> </span>
<span id="cb979-3"><a href="a-b---testing.html#cb979-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb979-4"><a href="a-b---testing.html#cb979-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop =</span> <span class="fu">survey_prop</span>(</span>
<span id="cb979-5"><a href="a-b---testing.html#cb979-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb979-6"><a href="a-b---testing.html#cb979-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;ci&quot;</span>, <span class="st">&quot;cv&quot;</span>),</span>
<span id="cb979-7"><a href="a-b---testing.html#cb979-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">level =</span> <span class="fl">0.95</span>,</span>
<span id="cb979-8"><a href="a-b---testing.html#cb979-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb979-9"><a href="a-b---testing.html#cb979-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb979-10"><a href="a-b---testing.html#cb979-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   Churn  prop prop_low prop_upp prop_cv
##   &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
## 1 No    0.716    0.685    0.745  0.0214
## 2 Yes   0.284    0.255    0.315  0.0541</code></pre>
<p>Podemos observar que en los resultados obtenemos la proporción puntual y su intervalo de confianza al 95%. Obtenemos también la varianza estimada de nuestra estimación y el <strong>coeficiente de variación</strong>. Esta última métrica nos permite saber la precisión y confiabilidad de la estimación. En la literatura suelde decirse que de acuerdo al nivel obtenido en este valor, podemos determinar la calidad de estimación:</p>
<ol style="list-style-type: decimal">
<li><p>CV &lt; 0.05 <span class="math inline">\(---&gt;\)</span> Excelente</p></li>
<li><p>CV &lt; 0.10 <span class="math inline">\(---&gt;\)</span> Muy bueno</p></li>
<li><p>CV &lt; 0.15 <span class="math inline">\(---&gt;\)</span> Bueno</p></li>
<li><p>CV &lt; 0.25 <span class="math inline">\(---&gt;\)</span> Regular</p></li>
<li><p>CV &gt; 0.25 <span class="math inline">\(---&gt;\)</span> Malo</p></li>
</ol>
<p>La clasificación usada anteriormente es una guía. Deberá entenderse únicamente como una sugerencia y no como una regla absoluta. Este criterio suele variar de investigador a investigador.</p>
<div id="estimación-cruzada" class="section level4 hasAnchor" number="14.5.2.1">
<h4><span class="header-section-number">14.5.2.1</span> Estimación cruzada<a href="a-b---testing.html#estimación-cruzada" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Es muy común querer analizar los resultados de manera cruzada con alguna variable de interés. A continuación, se presentará el ejemplo de cómo estimar resultados de la tasa de cancelación de acuerdo con el método promocional ofertado.</p>
<div class="sourceCode" id="cb981"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb981-1"><a href="a-b---testing.html#cb981-1" aria-hidden="true" tabindex="-1"></a>estimation_1 <span class="ot">&lt;-</span> design <span class="sc">%&gt;%</span> </span>
<span id="cb981-2"><a href="a-b---testing.html#cb981-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(promotion, Churn) <span class="sc">%&gt;%</span> </span>
<span id="cb981-3"><a href="a-b---testing.html#cb981-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb981-4"><a href="a-b---testing.html#cb981-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop =</span> <span class="fu">survey_prop</span>(</span>
<span id="cb981-5"><a href="a-b---testing.html#cb981-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb981-6"><a href="a-b---testing.html#cb981-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;ci&quot;</span>, <span class="st">&quot;cv&quot;</span>),</span>
<span id="cb981-7"><a href="a-b---testing.html#cb981-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">level =</span> <span class="fl">0.95</span>,</span>
<span id="cb981-8"><a href="a-b---testing.html#cb981-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb981-9"><a href="a-b---testing.html#cb981-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb981-10"><a href="a-b---testing.html#cb981-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb981-11"><a href="a-b---testing.html#cb981-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb981-12"><a href="a-b---testing.html#cb981-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="fu">starts_with</span>(<span class="st">&quot;prop_&quot;</span>)), round, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb981-13"><a href="a-b---testing.html#cb981-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb981-14"><a href="a-b---testing.html#cb981-14" aria-hidden="true" tabindex="-1"></a>estimation_1</span></code></pre></div>
<pre><code>## # A tibble: 4 × 6
##   promotion  Churn  prop prop_low prop_upp prop_cv
##   &lt;chr&gt;      &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
## 1 cell phone No    0.833    0.795    0.866   0.021
## 2 cell phone Yes   0.167    0.134    0.205   0.107
## 3 descount   No    0.599    0.553    0.643   0.038
## 4 descount   Yes   0.401    0.357    0.447   0.057</code></pre>
<div class="sourceCode" id="cb983"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb983-1"><a href="a-b---testing.html#cb983-1" aria-hidden="true" tabindex="-1"></a>estimation_1 <span class="sc">%&gt;%</span> </span>
<span id="cb983-2"><a href="a-b---testing.html#cb983-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Churn, <span class="at">y =</span> prop, <span class="at">ymin =</span> prop_low, <span class="at">ymax =</span> prop_upp, <span class="at">fill =</span> Churn)) <span class="sc">+</span></span>
<span id="cb983-3"><a href="a-b---testing.html#cb983-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb983-4"><a href="a-b---testing.html#cb983-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb983-5"><a href="a-b---testing.html#cb983-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">percent</span>(prop)), <span class="at">y =</span> <span class="fl">0.05</span>,  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>),</span>
<span id="cb983-6"><a href="a-b---testing.html#cb983-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb983-7"><a href="a-b---testing.html#cb983-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">aesthetics =</span> <span class="st">&quot;fill&quot;</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span> <span class="ot">=</span> <span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot;Yes&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb983-8"><a href="a-b---testing.html#cb983-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>promotion) <span class="sc">+</span></span>
<span id="cb983-9"><a href="a-b---testing.html#cb983-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percentage&quot;</span>) <span class="sc">+</span></span>
<span id="cb983-10"><a href="a-b---testing.html#cb983-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Churn rate by groups&quot;</span>)</span></code></pre></div>
<p><img src="amt22_aserta_intro2dsml_files/figure-html/unnamed-chunk-693-1.png" width="672" /></p>
<p>En caso de que se deseen analizar los resultados mediante una combinación de variables, solo es necesario agregarlas a la agrupación. A continuación, se muestra un ejemplo de agregación por resultado y sexo:</p>
<div class="sourceCode" id="cb984"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb984-1"><a href="a-b---testing.html#cb984-1" aria-hidden="true" tabindex="-1"></a>estimation_2 <span class="ot">&lt;-</span> design <span class="sc">%&gt;%</span> </span>
<span id="cb984-2"><a href="a-b---testing.html#cb984-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(promotion, gender, Churn) <span class="sc">%&gt;%</span> </span>
<span id="cb984-3"><a href="a-b---testing.html#cb984-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb984-4"><a href="a-b---testing.html#cb984-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total =</span> <span class="fu">survey_total</span>(</span>
<span id="cb984-5"><a href="a-b---testing.html#cb984-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> T,</span>
<span id="cb984-6"><a href="a-b---testing.html#cb984-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">vartype =</span> <span class="cn">NULL</span></span>
<span id="cb984-7"><a href="a-b---testing.html#cb984-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb984-8"><a href="a-b---testing.html#cb984-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop =</span> <span class="fu">survey_prop</span>(</span>
<span id="cb984-9"><a href="a-b---testing.html#cb984-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb984-10"><a href="a-b---testing.html#cb984-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;ci&quot;</span>, <span class="st">&quot;cv&quot;</span>),</span>
<span id="cb984-11"><a href="a-b---testing.html#cb984-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">level =</span> <span class="fl">0.95</span>,</span>
<span id="cb984-12"><a href="a-b---testing.html#cb984-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb984-13"><a href="a-b---testing.html#cb984-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb984-14"><a href="a-b---testing.html#cb984-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb984-15"><a href="a-b---testing.html#cb984-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb984-16"><a href="a-b---testing.html#cb984-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total =</span> <span class="fu">round</span>(total)) <span class="sc">%&gt;%</span> </span>
<span id="cb984-17"><a href="a-b---testing.html#cb984-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="fu">starts_with</span>(<span class="st">&quot;prop_&quot;</span>)), round, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb984-18"><a href="a-b---testing.html#cb984-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb984-19"><a href="a-b---testing.html#cb984-19" aria-hidden="true" tabindex="-1"></a>estimation_2</span></code></pre></div>
<pre><code>## # A tibble: 8 × 8
##   promotion  gender Churn total  prop prop_low prop_upp prop_cv
##   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
## 1 cell phone Female No      742 0.830    0.79     0.864   0.022
## 2 cell phone Female Yes     151 0.170    0.136    0.21    0.11 
## 3 cell phone Male   No      130 0.848    0.566    0.96    0.052
## 4 cell phone Male   Yes      23 0.152    0.04     0.434   0.291
## 5 descount   Female No      315 0.614    0.546    0.678   0.055
## 6 descount   Female Yes     198 0.386    0.322    0.454   0.087
## 7 descount   Male   No      312 0.585    0.518    0.649   0.057
## 8 descount   Male   Yes     221 0.415    0.351    0.482   0.08</code></pre>
<div class="sourceCode" id="cb986"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb986-1"><a href="a-b---testing.html#cb986-1" aria-hidden="true" tabindex="-1"></a>estimation_2 <span class="sc">%&gt;%</span> </span>
<span id="cb986-2"><a href="a-b---testing.html#cb986-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Churn, <span class="at">y =</span> prop, <span class="at">ymin =</span> prop_low, <span class="at">ymax =</span> prop_upp, <span class="at">fill =</span> Churn)) <span class="sc">+</span></span>
<span id="cb986-3"><a href="a-b---testing.html#cb986-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb986-4"><a href="a-b---testing.html#cb986-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb986-5"><a href="a-b---testing.html#cb986-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">percent</span>(prop)), <span class="at">y =</span> <span class="fl">0.15</span>,  <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>),</span>
<span id="cb986-6"><a href="a-b---testing.html#cb986-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb986-7"><a href="a-b---testing.html#cb986-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">aesthetics =</span> <span class="st">&quot;fill&quot;</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span> <span class="ot">=</span> <span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot;Yes&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb986-8"><a href="a-b---testing.html#cb986-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> promotion <span class="sc">+</span> gender, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb986-9"><a href="a-b---testing.html#cb986-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Percentage&quot;</span>) <span class="sc">+</span></span>
<span id="cb986-10"><a href="a-b---testing.html#cb986-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Churn rate by groups and gender&quot;</span>)</span></code></pre></div>
<p><img src="amt22_aserta_intro2dsml_files/figure-html/unnamed-chunk-695-1.png" width="672" />
Aparentemente con el método por descuento la polarización en la tasa de cancelación es más grande para hombres que para mujeres, no obstante, debieran realizarse pruebas de hipótesis de tomar una decisión en cuanto a la proposición mencionada.</p>

</div>
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

$('.pipehover_incremental tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).prevAll().addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});


$('.pipehover_select_one_row tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});

</script>
            </section>

          </div>
        </div>
      </div>
<a href="interpretabilidad-local.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["amt22_aserta_intro2dsml.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
